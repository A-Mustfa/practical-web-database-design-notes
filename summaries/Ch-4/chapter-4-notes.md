# Chapter 4

## ๐ง **ูุง ูู Data Modelingุ**

- ูู ุนูููุฉ ุชุตููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ูุฌุฑุฏ (abstract)ุ ูุนูู ูุจู ูุง ูุจุฏุฃ ููุชุจ ููุฏ SQL ุฃู ููุดุฆ ุงูุฌุฏุงููุ ุจููุนุฏ ูุฎุทุท ููุฑุณู ุดูู ุงูุจูุงูุงุช ูุงูุนูุงูุงุช ุจูููุง.

---
## ๐ฏ **ููู ุจูุนูู Data Modelingุ**

- ุนุดุงู **ูุจุณูุท ุงูุชุนููุฏ** ููุฑูุฒ ุจุณ ุนูู ุงูุจูุงูุงุช ุงููููุฉ.
- ุนุดุงู ููุฏุฑ **ูุชูุงูู ูุน ุงูุนููู ุฃู ุงูุชูู** ููุดูู ุฅุฐุง ูุฏู ุงูุชุตููู ููุงุณุจ ููุง ูุฃ.
- ุนุดุงู ูู ุจุฏุฃูุง ุตุญุ **ูุด ููุญุตู ููุงุฑุซ ุจุนุฏูู** ูู ุงูุชุทุจูู ุฃู ุงูุฃุฏุงุก.
- ุฒู ูุง ุงููููุฏุณ ุจูุนูู ุฑุณููุงุช ูุจู ูุง ูุจูู ุนูุงุฑุฉุ ุฅุญูุง ุจูุฑุณู "ูููุฐุฌ" ููุจูุงูุงุช ูุจู ูุง ููุชุจ ููุฏ.

---
## ๐ **ุงูููุถูุน ุชูุฑุงุฑู (Iterative)**

- ูุนูู ูุด ุจูุนูู ุงููููุฐุฌ ูุฑุฉ ูุงุญุฏุฉ ูุฎูุงุต. ูุงุ ุจูุจุฏุฃ ูุณูุฏุฉุ ูุนุฑุถูุงุ ูุนุฏููุ ููุนูุฏ ุงูุฎุทูุฉ ุฏู ูุฐุง ูุฑุฉ ูุญุฏ ูุง ููุตู ูุฃูุถู ุชุตููู ูููู.

---
## ๐ค **ูุดุงุฑูุฉ ุงููููุฐุฌ ูุน ุงูุนููู ุฃู ุงูุชูู**

- ุณุงุนุงุช ุงูุนููู ููุณู ูุด ุนุงุฑู ูู ูุญุชุงุฌ ุฅูู ุจุงูุถุจุท.
- ููุง ูุดูู ุงููููุฐุฌ ูุฏุงูู ูุจุฏุฃ ูููู ุฃูุชุฑ ููุทูุจ ุชุนุฏููุงุชู.
- ุฏู ูุณุงุนุฏูุง ููุถุญ ุงูุฃุณุฆูุฉ ุงููู ูุณููุง ูุณุฃููุง ูู ุงูุฃูู.

---
## ๐๏ธ **ุจุนุฏ ูุง ูุฎูุต ุงููููุฐุฌ...**

- ุจูุจุฏุฃ ูููุฐ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฃู ูุธุงู ุฅุฏุงุฑุฉ ููุงุนุฏ ุจูุงูุงุช (RDBMS) ุฒู MySQL ุฃู SQL Server.
- ุงูุฌููู ุฅู ุงููููุฐุฌ ุฏู **ูุง ุจููููุด ูุฑุชุจุท ุจูุงุนุฏุฉ ุจูุงูุงุช ูุนููุฉ**ุ ูุนูู ูููู ูุจุฏุฃ ุนูู ูุงุจุชูุจูุง ููููููุง ุนูู ุณูุฑูุฑ ูุจูุฑ ุจุนุฏูู.

---
## ๐งฑ **ููุงู ุงููููุฐุฌ ุจูุณุงุนุฏ ูู ุนูุฏูุง ูุงุนุฏุฉ ุจูุงูุงุช ูุฏููุฉ**

- ูู ุจูุดุชุบู ุนูู ูุธุงู ูุฏูู (Legacy System)ุ ุงููููุฐุฌ ุจูุณุงุนุฏูุง ูููู ุงููุงุนุฏุฉ ุฏู ุฃุญุณู ุจุฏู ูุง ููุนุฏ ููุฑุฃ ูุฆุงุช ุฃุณุทุฑ ุงูููุฏ.

---
### ๐ ูุซุงู ูุงูุนู:

ุชุฎูู ุฅูู ุจุชุตูู ูููุน ุจูุน ููุชุฌุงุช. ูุจู ูุง ุชูุดุฆ ุฌุฏูู `PRODUCTS` ู`CUSTOMERS`ุ ุจุชููุฑ:

- ุฅูู ุฃููุงุน ุงูุจูุงูุงุช ุงููู ูุญุชุงุฌูุงุ
- ูู ููุชุฌ ูู ุณุนุฑุ ูุตูุ ูููุฉุ ุตุญุ
- ุงูุนููู ูููู ูุทูุจ ุฃูุชุฑ ูู ููุชุฌุ ุขู โ ูุจูู ูู ุนูุงูุฉ ุจูููู.

ุจูุฑุณู ุงูููุงู ุฏู ููุฑุจุนุงุช ูุฎุทูุท (ERD ูุซูุงู)ุ ููุนุฏู ุนููู ูุจู ูุง ููุชุจ ุฃู ููุฏ.

---
## ๐ **Entity Relationship Modeling (ER Modeling)**

ูู ุงูุทุฑููุฉ ุงูุฃุดูุฑ ูุชุตููู ููุงุนุฏ ุงูุจูุงูุงุช ุจุทุฑููุฉ ููุธูุฉ ูุจู ุงูุจุฏุก ูู ุงูุชูููุฐ.

---
## ๐งฑ ููููุงุช ER Model:

1. **Entities (ุงูููุงูุงุช)**
    - ุชูุซู **ุงูุฃุดูุงุก ุฃู ุงูุฃุดุฎุงุต ุฃู ุงูุฃูุงูู** ุงููู ุจูุฎุฒู ุนููุง ุจูุงูุงุช.
    - ูุซุงู: `Book`, `Publisher`.
        
2. **Attributes (ุงูุฎุตุงุฆุต)**
    - ูู **ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจูู ููุงู**.
    - ูุซุงู:
        - ููุงู `Book` ุนูุฏู ุฎุตุงุฆุต: `Title`, `Author`, `ISBN`, `PublisherID`.
        - ููุงู `Publisher` ุนูุฏู ุฎุตุงุฆุต: `Name`, `Address`.
            
3. **Relationships (ุงูุนูุงูุงุช)**
    - ุชุญุฏุฏ **ุฅุฒุงู ุงูููุงูุงุช ูุฑุชุจุทุฉ ุจุจุนุถ**.
    - ูุซุงู: ูู ูุชุงุจ ูู ูุงุดุฑ โ ุนูุงูุฉ ุจูู `Book` ู `Publisher`.

---
## ๐๏ธ **ูุซุงู ุนูู Online Bookstore**

### โณ๏ธ ุงูููุงูุงุช:

- **Books**
- **Publishers**
### โณ๏ธ ุงูุฎุตุงุฆุต:

- **Books:**
    
    - `BookID` (Primary Key)
    - `Title`
    - `Author`
    - `ISBN`
    - `PublisherID` (Foreign Key)
    
- **Publishers:**
    
    - `PublisherID` (Primary Key)
    - `Name`
    - `Address`
    
### โณ๏ธ ุงูุนูุงูุฉ:

- ูู **Book** ูุฑุชุจุท ุจู **Publisher** ูุงุญุฏ.
- **Publisher** ูููู ูููู ูู ุฃูุชุฑ ูู **Book**.

---
## ๐ง ููุงุญุธุงุช ูููุฉ:

- ุงูุดูู ุงูุธุงูุฑู ููู ER Diagram ูุฎุชูู ุญุณุจ ุงูุฃุฏุงุฉ (Visioุ Draw.io...).
- ููู ุงูููููู ุงูุฃุณุงุณู ุฏุงูููุง ููุฌูุฏ: **ููุงูุงุช + ุฎุตุงุฆุต + ุนูุงูุงุช**.
- ุงููููุฐุฌ ุจูุณุงุนุฏู ุชููู ุงููุดุฑูุน ูููุณ ูุจู ูุชุงุจุฉ ุฃู ููุฏ.

---
## ๐ **Entities (ุงูููุงูุงุช)**

### โ ุงูุชุนุฑูู:

- ุงูููุงู (Entity) ูู **ุชูุซูู ูุฌุฑุฏ ูุดูุก ุญูููู ูู ุงูุนุงูู ุงููุงูุนู**.
- ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุชู ุชูุซูู ูู ููุงู **ุจุฌุฏูู**.

---
## ๐ง ููุญูุธุฉ ูุงูุฉ:

- ูู **ููุงู = ุฌุฏูู**
- ููู **ุฎุงุตูุฉ = ุนููุฏ**
- ููู **ุตู ุฏุงุฎู ุงูุฌุฏูู = ุตู ุจูุงูุงุช ุญูููู ููุซู ููุงููุง ูุฑุฏููุง**

---
## ๐ **Attributes (ุงูุณูุงุช / ุงูุฎุตุงุฆุต)**
### โ ุงูุชุนุฑูู:
- **Attributes** ูู ุงูุฎุตุงุฆุต ุฃู ุงูุณูุงุช ุงูุชู ุชููุฒ ุงูููุงูุงุช (Entities).
- ูู ููุงุนุฏ ุงูุจูุงูุงุชุ ูุชู ุชูุซูู ุงูู Attributes ุนูู ุดูู **ุฃุนูุฏุฉ (Columns)** ุฏุงุฎู ุงูุฌุฏุงูู.

---
### ๐งฑ ุฃูุซูุฉ:

#### ููุงู `Books` ูุญุชูู ุนูู ุงูุณูุงุช ุงูุชุงููุฉ:

- `ISBN` (ุฑูู ูุฑูุฏ ูููุชุงุจ)
- `PublisherID` (ูุดูุฑ ุฅูู ุงููุงุดุฑ)
- `Title` (ุนููุงู ุงููุชุงุจ)
- `Author` (ุงุณู ุงููุคูู)

#### ููุงู `Publishers` ูุญุชูู ุนูู:

- `PublisherID`
- `Name`
- `Address`

---
### ๐ง ููุงุญุธุงุช ูููุฉ:

- **PK (Primary Key):** ุงูุณูุฉ ุงูุฃุณุงุณูุฉ ุงูุชู ุชูููุฒ ูู ุณุฌู.
- **FK (Foreign Key):** ุณูุฉ ุชุดูุฑ ุฅูู ููุงู ุขุฎุฑ (ูุซู ุนูุงูุฉ ุจูู ูุชุจ ููุงุดุฑูู).
    - ูุชู ุชุฑููููุง (ูุซูุงู: `FK1`, `FK2`) ููุท ููุชูููุฒ.
---

## ๐ **Relationships (ุงูุนูุงูุงุช ุจูู ุงูููุงูุงุช)**
### โ ุงูุชุนุฑูู:

- **Relationship** ุชุนูู ููููุฉ ุงุฑุชุจุงุท **ููุงููู** (Entities) ุจุจุนุถููุง ุงูุจุนุถ.
- ูู ุงููุซุงู: ูู **Publisher** ูููู ุฃู ูุตุฏุฑ **ุนุฏุฉ ูุชุจ** โ ุงูุนูุงูุฉ ุจูู `Publishers` ู `Books`.

---
### ๐งฑ ูู ุงูุฑุณู ุงูุชูุถูุญู:

- ูุชู ุชูุซูู ุงูุนูุงูุฉ **ุจุฎุท ูุตู ุจูู ุงูููุงููู**.
- ุงูุดูู ุงูููุฌูุฏ ุนูู ุทุฑูู ุงูุฎุท ููุถุญ **ููุน ุงูุนูุงูุฉ** (Cardinality) ู**ุฅุฌุจุงุฑูุชูุง** (Optionality).

---

## ๐ Cardinality (ุงูุชุนุฏุฏูุฉ ูู ุงูุนูุงูุฉ)

> ูู ูุซุงููุง:

- ูู **Book** ูุฑุชุจุท ุจู **Publisher ูุงุญุฏ ููุท**.
- ูู **Publisher** ูููู ูููู ุนูุฏู **ูุชุจ ูุชูุฑ**.
- ูุงุดุฑ ูุงุญุฏ ู ุนุฏุฉ ูุชุจ (One-Many)

---

## ๐ Optionality (ุงุฎุชูุงุฑูุฉ ุงูุนูุงูุฉ)

| ุงูุฑูุฒ | ุงููุนูู                                          |
| ----- | ----------------------------------------------- |
| โ     | **Optional** (ุงุฎุชูุงุฑู โ ูููู ูุง ููููุด ูู ุนูุงูุฉ) |
| \|\|  | *Mandatory*(ุฅุงูุฒุงููู - ูุงุฒู ูููู ููุฌูุฏ)         |

> ูู ุงููุซุงู:

- ูู **Book ูุงุฒู ูููู ูู Publisher** โ ูุฐูู ุงูุนูุงูุฉ ูู ุฌูุฉ `Books` ุฅูู `Publishers` ูู **mandatory**.
- ุฃูุง **Publisher** ูููู ูุง ููููุด ุนูุฏู ูุชุจ ุญุงูููุง โ ุงูุนูุงูุฉ ูู ุฌูุชู **optional**.

---
### ๐ง ููุงุญุธุงุช ุฅุถุงููุฉ:

- ุงูุนูุงูุฉ ุฏู ุชุณูู **One-to-Many** (ูุงุญุฏ ุฅูู ูุชุนุฏุฏ).

---

## ๐ Common Structures in Database Design

### ๐ฏ ุงููุฏู:

- ุชูููู ููุชุจุฉ ุฐูููุฉ ูู **ุฃุดูุงู ุงูุนูุงูุงุช ุงูุดุงุฆุนุฉ** ุจูู ุงูุฌุฏุงูู (Entities).
- ุชุณุชุฎุฏู ูุฐู ุงูุนูุงูุงุช ูุชุตููู ููุงุฐุฌ ููุงุนุฏ ุจูุงูุงุช ูุนุงูุฉ ููุงุจูุฉ ููุชุทููุฑ.

---
## ๐ ุงูุนูุงูุงุช ุงูุดุงุฆุนุฉ ุญุณุจ ุงูุชูุฑุงุฑ:

|ุงูุชุฑุชูุจ|ููุน ุงูุนูุงูุฉ|ุงููุตู|
|---|---|---|
|1๏ธโฃ|One-to-Many|ุงูุฃูุซุฑ ุดููุนูุง|
|2๏ธโฃ|Many-to-Many|ุดุงุฆุนุฉ ูููู ุชูููุฐูุง ุฃุตุนุจ|
|3๏ธโฃ|One-to-Many Recursive|ุนูุงูุฉ ุฏุงุฎู ููุณ ุงูุฌุฏูู|
|4๏ธโฃ|Many-to-Many Recursive|ุนูุงูุฉ ูุชุนุฏุฏุฉ ุฏุงุฎู ููุณ ุงูุฌุฏูู|
|5๏ธโฃ|One-to-One|ูุงุฏุฑุฉ ูุณุจููุง|

---
### 1๏ธโฃ One-to-Many

#### ๐ง ุงูุชุนุฑูู:

- **ุตู ูุงุญุฏ** ูู ุงูุฌุฏูู ุงูุฃุจ ูุฑุชุจุท ุจู **ุนุฏุฉ ุตููู** ูู ุงูุฌุฏูู ุงูุงุจู.
- ุงูุทูู (Child) ูุฑุชุจุท ุจุฃุจ ูุงุญุฏ ููุท.

#### ๐งพ ูุซุงู 1:

- **Category โ Products**
    
    - ูู Category ุชุญุชูู ุนูู Products.
    - ูู Product ููุชูู ุฅูู Category ูุงุญุฏุฉ.

#### ๐งพ ูุซุงู 2:

- **Customer โ Orders**
    
    - ูู ุนููู ูููู ุฃู ูููู ูู ุฃูุซุฑ ูู ุทูุจ.
    - ุงูุทูุจ ุงููุงุญุฏ ุฏุงุฆููุง ุชุงุจุน ูุนููู ูุงุญุฏ ููุท.

#### ๐ ููุงุญุธุงุช:

- ููุซู ุจุงูู **foreign key** ูู ุงูุฌุฏูู ุงูุงุจู.
- ูููู ุฃู ุชููู ุงูุนูุงูุฉ "one-to-zero-or-many"ุ ููู ูุดุงุฑ ุฅูููุง ุงุฎุชุตุงุฑูุง ุจู One-to-Many.
- ุณููุฉ ูู ุงูุชูููุฐ ุนูู RDBMS ูุซู MySQL ูPostgreSQL.

---

### 2๏ธโฃ Many-to-Many

#### ๐ง ุงูุชุนุฑูู:
- ุตู ูู ุฌุฏูู ูููู ุฃู ูููู ูุฑุชุจุทูุง ุจุนุฏุฉ ุตููู ูู ุฌุฏูู ุขุฎุฑ **ูุงูุนูุณ ุตุญูุญ**.

#### โ ุบูุฑ ูุฏุนููุฉ ูุจุงุดุฑุฉ:
- ูุง ูููู ุชูููุฐูุง ูุจุงุดุฑุฉ ูู RDBMS.
- ูุญุชุงุฌ ุฅูู **ุฌุฏูู ูุณูุท (Associative Table)** ููุซู ุงูุนูุงูุฉ.

#### ๐งพ ูุซุงู:
- **Orders โ Products** ุจุงุณุชุฎุฏุงู ุฌุฏูู `OrderItems` ููุณูุท.

#### ๐ ุจููุฉ ุงูุฌุฏุงูู:
- **Orders** โ OrderID, CustomerID
- **Products** โ ProductID, Name
- **OrderItems** โ OrderID (FK), ProductID (FK), Quantity, Price

#### ๐ง ููุงุฆุฏ ุฌุฏูู ุงูุนูุงูุฉ:
- ูุณูุญ ุจุฑุจุท ููุชุฌ ูุงุญุฏ ุจุนุฏุฉ ุทูุจุงุช ูุงูุนูุณ.
- ููููู ุชุฎุฒูู **ุจูุงูุงุช ุฅุถุงููุฉ** (ูุซู ุงููููุฉ ูุงูุณุนุฑ).

#### ๐ ูุซุงู ุขุฎุฑ:
- **Users โ Groups** ุจุงุณุชุฎุฏุงู ุฌุฏูู `UserGroup`.

#### โ ุฎุทูุงุช ุชุญุฏูุฏ ููุน ุงูุนูุงูุฉ:

ุงุณุชุฎุฏู ุฌูู ูุซู:
- "ูู ูููู ูููุณุชุฎุฏู ุฃู ููุชูู ูุฃูุซุฑ ูู ูุฌููุนุฉุ"
- "ูู ูููู ูููุฌููุนุฉ ุฃู ุชุญุชูู ุนูู ุฃูุซุฑ ูู ูุณุชุฎุฏูุ"

ูู ุงูุฅุฌุงุจุชูู ูุนู โ Many-to-Many.

---
## ๐ One-to-Many Recursive Relationships

### โ ุงูุชุนุฑูู:

- ุนูุงูุฉ ุจูู ุงูุตููู **ุฏุงุฎู ููุณ ุงูุฌุฏูู**.
- ุชูุณุชุฎุฏู ูุชูุซูู **ุงูููุงูู ุงููุฑููุฉ (tree structures)** ูุซู:
    - ุชุตููู ุงูููุชุฌุงุช.
    - ุงููููู ุงูุฅุฏุงุฑู ููุดุฑูุฉ.

---

### ๐ ุฃูุซูุฉ ุดุงุฆุนุฉ:

#### ๐ 1. ุชุตูููุงุช ุงูููุชุฌุงุช (Product Categories)

- ุฌุฏูู: `Categories`
- ุงูุฃุนูุฏุฉ ุงููููุฉ:
    - `CategoryID`: ุงูููุชุงุญ ุงูุฃุณุงุณู.
    - `ParentCategory`: ููุชุงุญ ุฃุฌูุจู ูุดูุฑ ุฅูู `CategoryID`.

#### ๐ง ููู ุชูุจูู ุงูุดุฌุฑุฉุ

- ุงููุฆุงุช ุงูุชู ููุง `ParentCategory = NULL` ุชููู **ูู ููุฉ ุงูุดุฌุฑุฉ**.
- ูู ูุฆุฉ ุชุดูุฑ ุฅูู ุงูุฃุจ ูู ุฎูุงู `ParentCategory`.

#### โ๏ธ ูุดุงูู ูุญุชููุฉ:

- ูููู ูุญุตู **ุฎูู ููุทูู** ูู ุนููุช ุฃุจ ูููุฆุฉ ูููู ุฃุตูุงู ุฃุญุฏ ุงูุฃุจูุงุก.
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุด ูุชูุชุดู ุฏู ูุฃูู ูุง ุจูุฎุงููุด ุงูู FK rule.
- โ ุงูุญู: ุชุญูู ุจุฑูุฌูุงู ุฃู ุงุณุชุฎุฏู **Triggers** ุชููุน ูุฐุง ุงูููุน ูู ุงูุชูุฑุงุฑ ุบูุฑ ุงูููุทูู.

---
#### ๐ 2. ุงููููู ุงูุฅุฏุงุฑู ููููุธููู (Employee Hierarchy)

- ุฌุฏูู: `Employees`
- ุงูุฃุนูุฏุฉ:
    - `EmployeeID`: ุงูููุชุงุญ ุงูุฃุณุงุณู.
    - `Manager`: ููุชุงุญ ุฃุฌูุจู ูุดูุฑ ุฅูู `EmployeeID`.

#### ๐ง ููุงุฐุง `Manager` ูุฌุจ ุฃู ูุณูุญ ุจู `NULL`ุ

- ูุฃู ุงูููุธู ูู ุฃุนูู ุงููุฑู (ูุซูุงู CEO) **ููุณ ูู ูุฏูุฑ**.

---
### ๐๏ธ ูุตุงุฆุญ ุนูุฏ ุงุณุชุฎุฏุงู Recursive Relationships:

|ุงูููุทุฉ|ุงูุชูุณูุฑ|
|---|---|
|ุงูุณูุงุญ ุจู NULL ูู ุงูู FK|ูุฃู ุฃุนูู ูุณุชูู ูู ุงูุดุฌุฑุฉ ูุง ูุดูุฑ ูุฃู ุนูุตุฑ ุขุฎุฑ.|
|ูุญุต ุงูุชูุฑุงุฑ ุงูุนูุณู|ุชุฃูุฏ ุฃูุง ููุนูู ุงูุงุจู ูุฃุจ ููุณู ุฃู ูุฃุณูุงูู|
|ุงุณุชุฎุฏุงู Triggers|ูุถูุงู ุณูุงูุฉ ุงูุนูุงูุงุช ุงููุฑููุฉ|

---
## ๐ง ุงูุชุนุงูู ุจุฑูุฌููุง ูุน Recursive Relationships

### โ ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ:

- ุงูุนูุงูุงุช ุงูุชูุฑุงุฑูุฉ ุฒู ุดุฌุฑุฉ ุงููุฆุงุช (categories tree) ุชุญุชุงุฌ **ุชูุฑุงุฑ (recursion)** ููุชููู ุจูู ุงููุณุชููุงุช.
- ูููู ุชุตูุญ ุงูุดุฌุฑุฉ ุจุทุฑููุชูู:
    1. **ูู ุงูุฃุณูู ููุฃุนูู**: ุณูู โ ุงุณุชุนูุงู ูุงุญุฏ ุจุงุณุชุฎุฏุงู FK.
    2. **ูู ุงูุฃุนูู ููุฃุณูู**: ุฃุตุนุจ โ ูุญุชุงุฌ ุฏุงูุฉ ุชุณุชุฏุนู ููุณูุง (Recursive Function).

---
## ๐ ูุซุงู Pseudo-Code: ุงุณุชุฑุฌุงุน ุดุฌุฑุฉ ุงูุชุตูููุงุช

```pseudo
// Step 1: ุงุณุชุฑุฌุงุน ูู ุงููุฆุงุช
Recordset = DBQuery("SELECT * FROM CATEGORIES")

// Step 2: ุงุณุชุฏุนุงุก ุฏุงูุฉ ุงูุชูุฑุงุฑ ูู ุงููุณุชูู ุงูุฃุนูู (Parent = 0)
traverseTree(Recordset, 0)

Function traverseTree(pRecordset, pDepth)
  For each CurrentRow in pRecordset
    Print CurrentRow // ุนุฑุถ ุจูุงูุงุช ุงูุตู ุงูุญุงูู
    // ุงุณุชุฑุฌุน ุงูุฃุทูุงู ุงูุชุงุจุนูู ููุฐู ุงููุฆุฉ
    newRecordset = DBQuery("SELECT * FROM CATEGORIES WHERE ParentCategory = " + CurrentRow("CategoryID"))
    // ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ ูุฑุฉ ุฃุฎุฑู ููุฃุทูุงู
    traverseTree(newRecordset, pDepth + 1)
  End For
End Function
```

---

### ๐ ููุงุฐุง ููุฑุฑ `pDepth` ููุฏุงูุฉุ

- ุนุดุงู ูุชุญูู ูู **ุงููุณุงูุฉ ุงูุจุงุฏุฆุฉ (indentation)** ููู ูุณุชูู.
- ูุซุงู: ูุถูู `--` ุฃู ูุณุงูุฉ ุญุณุจ ุงูุนูู ูุชูููุฒ ุงููุณุชููุงุช ุจุตุฑููุง.

---
### โ๏ธ ููุงุญุธุงุช ูููุฉ:

|โ๏ธ ุงูุชุญุฐูุฑ|๐ก ุงูุญู|
|---|---|
|**ูุฏ ุชุณุจุจ ุงุณุชุนูุงูุงุช ูุซูุฑุฉ ุฌุฏูุง (N+1 queries)** ุฅุฐุง ุงูุดุฌุฑุฉ ุนูููุฉ ุฌุฏูุง ุฃู ุงููุณุชุฎุฏููู ูุซูุฑ|โ ุงุญูุธ ุงููุชุงุฆุฌ ูุคูุชูุง (Cache) ุจุงุณุชุฎุฏุงู XML ุฃู JSON|
|**ุฃุฏุงุก ุงููููุน ูููู ูุชุฃุซุฑ ูุน ุนุฏุฏ ูุณุชุฎุฏููู ูุจูุฑ**|โ ุญููู ุงูุดุฌุฑุฉ ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุจุฏุงูุฉ ูุงุณุชุฎุฏููุง ูุงุญููุง ูู ุงูุฐุงูุฑุฉ|
|**ุงูุชุนุงูู ูุน ุงูุจูุงูุงุช ูู ุดูู Tree ุจุฑูุฌููุง ูุนูุฏ ุฃุญูุงููุง**|โ ุญููููุง ูู Flat Listุ ูุจุนุฏูู ุงุจูู ุงูุดุฌุฑุฉ ุจุงูููุฏ (DOM ุฃู JS ุฃู XSLT...)|

---
## ๐ณ ุจุฏุงุฆู ูุญููู ูุนุงูุฉ:

- **ุงุณุชุฎุฏุงู XML ุฃู JSON** ูุชุฎุฒูู ุจููุฉ ุงูุดุฌุฑุฉ ูุชุญููููุง ูุฑุฉ ูุงุญุฏุฉ.
- **ุงุณุชุฎุฏุงู XSLT** ูู ููุช ุจุชุชุนุงูู ูุน XML โ ูุฃูู ููู ุฌุฏูุง ูู ุงูุชุนุงูู ูุน recursion.
- **ุนุฑุถ ุดุฌุฑุฉ ูุตููุฉ ุจุดูู ุฏููุงูููู ุจุงุณุชุฎุฏุงู JavaScript** ูู ูุตุฏุฑ ุจูุงูุงุช ูุฎุฒู ูุณุจููุง (ูุซูุงู API ุจุชุจุนุช ุดุฌุฑุฉ JSON ุฌุงูุฒุฉ).

---
## ๐ Many-to-Many Recursive Relationship
### โ ุงูุชุนุฑูู:

- ุงูุนูุงูุฉ ุงูุชูุฑุงุฑูุฉ (recursive) = ุนูุงูุฉ ูุน **ููุณ ุงูุฌุฏูู**.
- many-to-many = ุนูุตุฑ ูุงุญุฏ ูุฑุชุจุท ุจู **ุนุฏุฉ ุนูุงุตุฑ**ุ ููู ุนูุตุฑ ูููู ูููู ูุฑุชุจุท **ุจุนูุงุตุฑ ุฃุฎุฑู**.
- **ูุซุงู ุนููู**: ููุชุฌ (ุฒู "Combo Deal") ููููู ูู ููุชุฌุงุช ุฃุฎุฑู (ุฒู "Summer Tracksuit" ู "Winter Tracksuit").

---
### ๐ ุงูููุงูุงุช ุงููุณุชุฎุฏูุฉ:

|ุงูุฌุฏูู|ุงููุธููุฉ|
|---|---|
|`Products`|ูุญุชูู ุนูู ุงูููุชุฌุงุช ุงูุนุงุฏูุฉ ูุงููBundles ุฃูุถูุง|
|`ProductBundles`|ุฌุฏูู ูุณูุท (associative table) ูุฑุจุท ููุชุฌ ุจููุชุฌุงุช ุฃุฎุฑู|

---
### ๐ ุงูุดูู ุงูุนุงู:

- ุงูููุชุฌ "Tracksuit Combo Deal" ูู `ProductID = 5`
- ุงูููุชุฌ ูุญุชูู ุนูู:
    - `ProductID = 3` โ "Summer Tracksuit"
    - `ProductID = 4` โ "Winter Tracksuit"
- ูุฐูู ุฌุฏูู `ProductBundles` ูุญุชูู ุนูู:

|BundleID|BundledProductID|
|---|---|
|5|3|
|5|4|

> โ ููุณ ุงูููุชุฌ ูููู ูุธูุฑ ูู "bundle" ุฃู "ุนูุตุฑ ุฏุงุฎู bundle" ุญุณุจ ุงูุณูุงู.

---
### ๐ ููุงุฆุฏ ูุฐุง ุงููููุฐุฌ:

|ุงูููุฒุฉ|ุงูุชูุถูุญ|
|---|---|
|โ **ูุฑููุฉ ูุจูุฑุฉ**|ูููู ุชุนูู bundling ูุฃู ุนุฏุฏ ูู ุงูููุชุฌุงุช|
|โ **Bundles ุฏุงุฎู Bundles**|ูุนูู combo ูููู ูุญุชูู ุนูู combo ุชุงูู|
|โ **ูููุฐุฌ ููุญุฏ**|ูู ุงูููุชุฌุงุช ุณูุงุก ูุงูุช ููุฑุฏุฉ ุฃู bundles ููุฌูุฏุฉ ูู ููุณ ุงูุฌุฏูู (`Products`)|

---
### โ๏ธ ููุงุญุธุงุช ูููุฉ:

1. **ุชุฌูุจ ุงูุชูุฑุงุฑ ุงูุฏุงุฆุฑู (Circular Reference)**:
    - ููููุน ุฃู bundle ูุญุชูู ููุณู.
    - ููููุน ูููู bundle A ูุญุชูู B ูB ูุญุชูู A.
    - ุงูุญู: ุชุญูู ูู ูุฌูุฏ ุงูุญููุงุช ูุจู ุงูุฅุฏุฎุงูุ ุจุงุณุชุฎุฏุงู **ุงูููุฏ ุฃู triggers**.
    
2. **ุณูููุฉ ุงูุชูุณุน**:
    - ูููู ุฅุถุงูุฉ ุญููู ูุงุญููุง ูู `ProductBundles` ูุซู ุงููููุฉ ุฃู ุงูุฎุตู ุฃู ุงูุชุฑุชูุจ ุฏุงุฎู ุงูุจุงูุฏู.
    
3. **ุชุทุจููุงุช ูุซูุฑุฉ ูู ุงููุงูุน**:
    - ุดุฑูุงุช ุงูุฅููุชุฑูููุงุช (ุฌูุงุฒ ููุจููุชุฑ ููููู ูู ูุงุฐุฑุจูุฑุฏุ RAMุ CPU...)
    - ููุงูุน ุงูุชุฌุงุฑุฉ (buy 1 get 1ุ combo dealsุ gift sets)

---
### ๐ฏ ููุฎุต ุณุฑูุน:

|ุงูุฎุงุตูุฉ|ุงููุงุนุฏุฉ|
|---|---|
|ุงูุนูุงูุฉ|ุจูู `Products` ู `Products` ุนุจุฑ `ProductBundles`|
|ุงูููุน|many-to-many + recursive|
|ุงููุฏู|ููุฐุฌุฉ ุงูุชุฌููุนุงุช ูุงููcombos|
|ุงูุชุญุฏู|ุงูุชุฃูุฏ ูู ุนุฏู ุญุฏูุซ recursion ูุง ููุงุฆู (self-referencing)|

---
## ๐ One-to-One Relationship
### โ ุงูุชุนุฑูู:
- ูุนูุงูุง ุฅู **ูู ุตู ูู ุฌุฏูู A ูุฑุชุจุท ุจุตู ูุงุญุฏ ููุท ูู ุฌุฏูู B**ุ ูุงูุนูุณ ุตุญูุญ.
- ุงูุนูุงูุฉ ุจุชููู **ูุงุญุฏ ููุงุญุฏ ููุท** ูู ุงูุงุชุฌุงููู.

---
### ๐งฉ ุงูููุนูู ุงูุฑุฆูุณููู:
1. **Actual One-to-One**
    - ูุนูุงู ุงูุนูุงูุฉ ุทุจูุนุชูุง ูุงุญุฏ ููุงุญุฏ.
    - ูุซุงู: ุฌุฏูู `User` ูุฑุชุจุท ุจุฌุฏูู `UserProfile` โ ูู ูุณุชุฎุฏู ูู ููู ูุงุญุฏ ููุท.
    - ูููู ูุชู ูุตู ุงูุฌุฏุงูู ูุฃุณุจุงุจ:
        - ุงูุฃูุงู (ูุตู ุจูุงูุงุช ุญุณุงุณุฉ).
        - ุงูุฃุฏุงุก (ุชุญููู ุจูุงูุงุช ุซูููุฉ ููุท ุนูุฏ ุงูุญุงุฌุฉ).
        - ุงูุชูุธูู (ุชูุณูู ุงูุจูุงูุงุช ูููุงุทู ููุทููุฉ).

2. **Subtype/Supertype**
    
    - ุจูุณููู ุฃุญูุงููุง Inheritance ูู ุชุตููู ุงูููุงูุงุช.
    - ูุซุงู: ุฌุฏูู `Employee` ูููู ูููู ูู `Manager` ุฃู `Technician` ูููุน ูุฑุนู.
        - `Employee` = Supertype
        - `Manager` ู `Technician` = Subtypes
    - ูู ุณุฌู ูู ุงูุฌุฏูู ุงูุฃุจ (supertype) ูููู ูู ุณุฌู ูุงุญุฏ ููุท ูู ุฃุญุฏ ุงูุฌุฏุงูู ุงููุฑุนูุฉ.

---
### โ๏ธ ููุงุญุธุงุช ูููุฉ:

|ุงูููุงุญุธุฉ|ุงูุชูุถูุญ|
|---|---|
|ุงูุนูุงูุฉ ูุงุฏุฑุฉ ููููุง **ูููุฉ ูู ุจุนุถ ุงูุณููุงุฑูููุงุช**|ุฎุตูุตูุง ููุง ูููู ูู ุจูุงูุงุช ูุงุฏุฑุฉ ุงูุงุณุชุฎุฏุงู ุฃู ุญุณุงุณุฉ|
|ูุงุฒู ูููู ููู ููุชุงุญ ูุดุชุฑู|ุบุงูุจูุง `Primary Key` ูู ุงูุฌุฏูููู ูููู ููุณ ุงููููุฉ|
|ูููู ุชูุณุชุฎุฏู ููุตู ุงูููุงูุงุช ุงูููุทููุฉ|ุฒู ูุตู `Users` ู `Settings` ุฃู `Employee` ู `Benefits`|

---
### ๐ ูุซุงู ุณุฑูุน:
#### ุฌุฏูู `User`

|UserID|Username|
|---|---|
|1|Ahmed|
|2|Fatma|
#### ุฌุฏูู `UserSettings`

|UserID|Theme|Language|
|---|---|---|
|1|dark|en|
|2|light|ar|

> โ ูู `UserID` ูู `UserSettings` ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท โ ุนูุงูุฉ One-to-One.

---
### ๐น Actual One-to-One Relationships
#### โ ุงูุชุนุฑูู:

- ุนูุงูุฉ ูุจุงุดุฑุฉ ุจูู **ุตู ูุงุญุฏ ูู ุฌุฏูู A ูุตู ูุงุญุฏ ูู ุฌุฏูู B**.
- ูุซุงู: ูู ูุณู ูู ูุฏูุฑ ูุงุญุฏ ููุทุ ููู ูุฏูุฑ ูุณุคูู ุนู ูุณู ูุงุญุฏ ููุท.
#### ๐ ูู ุงููุซุงู:

- `Departments.DepartmentManager` โ ููุชุงุญ ุฎุงุฑุฌู ุฅูู `Employees.EmployeeID`.
- ุงูุนูุงูุฉ One-to-One ูุงุถุญุฉ:
    - ูุณู ุงูุฃุญุฐูุฉ โ ุงููุฏูุฑ ููุงู.
    - ุงููุฏูุฑ ุฏู ูุด ูููู ูุฏูุฑ ุฃูุชุฑ ูู ูุณู.
#### โ๏ธ ููุงุญุธุงุช ูููุฉ:

|ููุทุฉ|ุดุฑุญ|
|---|---|
|ุชุดุจู ุนูุงูุฉ One-to-Many ูู ุงูุดูู|ููู ููุณูุญ ููุท ุจุตู ูุงุญุฏ ุนูู ุงูุฌุงูุจ ุงูุชุงุจุน|
|ุงุณุชุฎุฏุงููุง ูุงุฏุฑ|ูุฃูู ูููู ุฌุฏูุง ุชููู ุงูุนูุงูุฉ ูุญุฏุฏุฉ ูุฏู ูู ุงููุงูุน|
|ุงูุฃูุถููุฉ ูููุฑููุฉ|ุนุงุฏุฉ ุงูุฃูุถู ุงุณุชุฎุฏุงู One-to-Many ุนุดุงู ุชุณููู ุงูุชุนุฏูู ูุงุญููุง ูู ุชุบูุฑุช ุงููุชุทูุจุงุช|

---
### ๐ธ Subtype / Supertype Relationships

#### โ ุงูุชุนุฑูู:

- ุชูุณุชุฎุฏู ููุง ูููู ุนูุฏูุง **ููุงู ุฑุฆูุณู** (supertype) ู**ุฃููุงุน ูุฑุนูุฉ** (subtypes) ููุง ุฎุตุงุฆุต ูููุฒุฉ.
- ูู ุตู ูู ุงูุฌุฏูู ุงูุฃุณุงุณู **ูุฑุชุจุท ุจุตู ูุงุญุฏ ููุท** ูู ุฌุฏูู ูุฑุนู.

#### ๐ ูุซุงู ุงููููุงุช:
- `Items` = ุงูููุงู ุงูุนุงู (ููู ุฃู ูุฌูุฏ).
    
- `Files` = ููุงู ูุฑุนู ูู ุงูุนูุตุฑ ููู ููุท.
    
- ุงูุนูุงูุฉ One-to-One: ูู ุตู ูู `Items` ูููู ูููู ูู ุตู ูู `Files` (ุฃู ูุง).
#### โ๏ธ ุงูุชูุธูู ุญุณุจ ุนุฏุฏ ุงูุฃููุงุน ุงููุฑุนูุฉ:

|ุงูุญุงูุฉ|ููุงู ุงูููุชุงุญ ุงูุฎุงุฑุฌู|
|---|---|
|ููุน ูุฑุนู ูุงุญุฏ|ุงูููุชุงุญ ูู ุงูุฌุฏูู ุงูุฃุจ (supertype)|
|ุฃูุซุฑ ูู ููุน ูุฑุนู|ุงูููุชุงุญ ูู ูู ุฌุฏูู ูุฑุนู|
#### ๐ ูุซุงู ุชุนุฏุฏ ุงูุฃููุงุน:

- `Employees` โ ุงูุฌุฏูู ุงูุฑุฆูุณู
    
- `ContractEmployees`, `SalariedEmployees` โ ุงูููุนูู ุงููุฑุนููู
    
- ุงูููุชุงุญ `EmployeeID` ููุฌูุฏ ูู PK + FK ูู ูู ุฌุฏูู ูุฑุนู
#### โ๏ธ ููุงุญุธุงุช:

- ูููู ูุญุตู **ุชูุฑุงุฑ ุบูุฑ ูุฑุบูุจ** (ููุธู ููุฌูุฏ ูู ุงูููุนูู).
- ูุชุฌูุจ ุฏูุ ุงุณุชุฎุฏู **Check Constraint** ุฃู **Logic ูู ุงูุชุทุจูู**.

---
#### ๐ง ุงูุฎูุงุตุฉ:

|ููุน ุงูุนูุงูุฉ|ูุชู ุชุณุชุฎุฏูุ|ุงูููุฒุฉ|
|---|---|---|
|Actual One-to-One|ุนูุฏ ูุฌูุฏ ุงุฑุชุจุงุท ุญูููู ูุซุงุจุช ุจูู ููุงููู|ุชูุธูู ุงูุจูุงูุงุช|
|Subtype/Supertype|ุนูุฏ ูุฌูุฏ ุณูุงุช ูุดุชุฑูุฉ ูุจุนุถ ุงูุงุฎุชูุงูุงุช ุจูู ุงูููุงูุงุช|ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูุชูุธูููุง|

---
## Integrity 

### โ ุงูููุฑุฉ ุงูุนุงูุฉ:

ุจุฏู ูุง ุชุนุชูุฏ ุนูู ุงูููุฏ ูู ุงูุชุทุจูู (frontend ุฃู backend) ุนุดุงู ูููุน ุงูุจูุงูุงุช ุงูุบูุทุ **ุชุญุท ุงูููุงุนุฏ ุฌูุง ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง**.
ูููุ

- ูุฃู ูููู ุฃูุชุฑ ูู ุชุทุจูู ููุตู ููุงุนุฏุฉ ุงูุจูุงูุงุช (ููุจ โ API โ ุฃุฏูุงุช ุชุญููู...).
- ููููู ุงููุทูุฑ ูุบูุท ุฃู ููุณู ูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช.
- ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุด ูุชุณูุญ ุจุฃู ุฅุฏุฎุงู ุฃู ุชุนุฏูู ูุฎุงูู ููููุงุนุฏ ุงููู ุงูุช ุญุงุทุทูุง.

---
### ๐ ุงูุฃููุงุน ุงูุซูุงุซุฉ ูู ุงููููุฏ ุงููู ุจูุณุชุฎุฏููุง:

#### 1.   **Entity Integrity โ ุณูุงูุฉ ุงูููุงูุงุช**
- ุจุชุถูู ุฅู **ูู ููุงู (ุตู)** ูู ุงูุฌุฏูู ูููู **ูุนุฑูู ุจุดูู ูุฑูุฏ**.
- ูุนูู ูุงุฒู ูููู ููู **Primary Key** ูู ูู ุฌุฏูู.
    - ููู ุดุฑูุท ุงูู PK:
        - ูุง ูููู ูููู ููู **null**
        - ูุง ูููู ูููู **ููุฑุฑ**
    โ ูุซุงู: ุฌุฏูู ุงูููุธููู ูุงุฒู ูููู ููู ููุธู ุฑูู ID ูุฑูุฏ.
    

---

#### 2. **Attribute Integrity โ ุณูุงูุฉ ุงูุฎุตุงุฆุต**
    
- ูุนูู ุงูุชุญูู ูู ุตุญุฉ **ูู ูููุฉ ูู ุงูุนููุฏ** (Attribute).
- ุฃูุซูุฉ:
    - ููุน ุงูุจูุงูุงุช: ูุงุฒู ุงููุฑุชุจ ูููู ุฑูู ูุด ูุต.    
    - ุงุณุชุฎุฏุงู `NOT NULL`: ูููุน ุชุฑู ุงูุฎุงูุฉ ูุงุถูุฉ.    
    - ุงุณุชุฎุฏุงู `CHECK`: ุฒู ูุซููุง `CHECK (Salary > 0)`    
    โ ูุซุงู: ุงูุชุฃูุฏ ุฅู ุชุงุฑูุฎ ุงููููุงุฏ ูุด ุจุนุฏ ุชุงุฑูุฎ ุงูููู.
    

---

#### 3. **Relational Integrity โ ุณูุงูุฉ ุงูุนูุงูุงุช**
- ุฏู ูุฑุชุจุท ุจุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู.
- ุฃุดูุฑ ูุซุงู: **Foreign Key**
     - ูุงุฒู ูู ูููุฉ ูู ุงูุนููุฏ ุงููู ุจูุฑุจุท ุฌุฏูู ุจุฌุฏูู ุชุงููุ ุชููู ููุฌูุฏุฉ ูุนููุง ูู ุงูุฌุฏูู ุงููุฑุชุจุท. 
โ ูุซุงู: ูู ุฌุฏูู `Orders` ููู `CustomerID`ุ ูุงุฒู ุงูู `CustomerID` ูููู ููุฌูุฏ ูุนููุง ูู ุฌุฏูู `Customers`.
    

---
### ๐ก ููุญูุธุฉ ูููุฉ:

> ูุถุน ูููุฏ ุงูุชูุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช = ุถูุงู ุฏุงุฆู ุถุฏ ุงูุฃุฎุทุงุกุ **ุจุบุถ ุงููุธุฑ ููู ุจูุนุฏู ุงูุฏุงุชุง ุฃู ูููู**.

---
### โ ูุง ุงูููุตูุฏ ุจู Entity Integrityุ

- ูู **ุตู** ูู ุงูุฌุฏูู ูุงุฒู ูููู ูู **ูููุฉ ูููุฒุฉ**.
- ูุฐู ุงููููุฉ ูู ุงูู **Primary Key**ุ ูุงููู ุบุงูุจูุง ุจูุณุชุฎุฏูู ุนูุดุงู ูุฑุจุท ุงูุฌุฏูู ุฏู ุจุฌุฏุงูู ุชุงููุฉ.

---
### ๐ ุดุฑูุท ุงูู Primary Key:
#### ูู ุญุงูุฉ ุงูููุชุงุญ ุงูุฃุณุงุณู **ุงููููู ูู ุนููุฏ ูุงุญุฏ**:
1. ูุงุฒู ุชููู ุงูููู **ูุฑูุฏุฉ (Unique)**.
2. ูุง ูููู ุชุญุชูู ุนูู **NULL**.

#### ูู ุญุงูุฉ ุงูููุชุงุญ ุงูุฃุณุงุณู **ุงููุฑููุจ (Composite Key)**:
1. ูุงุฒู ุชููู **ูุฌููุนุฉ ุงูุฃุนูุฏุฉ ูุน ุจุนุถ** ูุฑูุฏุฉ.
2. ููุง ูุงุญุฏ ูู ุงูุฃุนูุฏุฉ ุฏู ูููู ููู **NULL**.

---
### โ๏ธ ููู ุงูู NULL ููููุน ูู ุงูู Primary Keyุ

- ูุฃู **NULL ูุด ูููุฉ ูุนููุฉ**.
- ููุด ูููู ูููู ุฅู `NULL = NULL`ุ ูุฃู ุฏู ูุด ููุงุฑูุฉ ููุทููุฉ.
- ูุจุงูุชุงููุ ูุง ููุฏุฑุด ูุณุชุฎุฏู NULL ูู ุดูุก ุงูููุฑูุถ ูููู ูุฑูุฏ ูููุงุฑู.

โ ูุนูู:
> ูู ุณูุญุช ูู NULL ูุฏุฎู ูู ุงูู PKุ ูุง ุชูุฏุฑุด ุชุถูู ุฅูู ูุฑูุฏุ ูุฃู ุงููุงุนุฏุฉ ูุด ูุชุนุฑู ุชูุงุฑู ุจูููู.

---
### ๐ ูุซุงู ุนููู:

|EmployeeID (PK)|Name|
|---|---|
|101|Sarah|
|102|Ahmed|
|NULL โ|Mona|

- ุงูุตู ุงูุฃุฎูุฑ ุบูุฑ ุตุงูุญุ ูุฃู ุงูู PK ูุง ูููู ูููู NULL.

---

### ุงูููุงุชูุญ ุงููุฑูุจุฉ (Concatenated / Composite Keys)

- ูุด ูุงุฒู ุงูุฃุนูุฏุฉ ููุณูุง ุชููู ูุฑูุฏุฉ **ุจุดูู ูุฑุฏู**ุ ููู **ูุฌููุนูู ูุนูุง ูุงุฒู ูููู ูุฑูุฏ**.
### ๐ง ูุซุงู ูู ุงูููุฑุฉ:

|**Author**|**Title**|**Publisher**|
|---|---|---|
|J. Smith|Advanced Spoonbending|XYZ Press|
|J. Smith|Elementary Spoonbending|XYZ Press|
|R. Jones|Top Golf Holes|ABC Books|
|S. Robinson|Top Golf Holes|Greenkeeper Publishing|

- ููุง ูุงุญุฏ ูู ุงูุฃุนูุฏุฉ ุฏู ูุฑูุฏ ููุญุฏู.
- ููู ูุฌููุน ุงูุชูุงุชุฉ ูู ูู ุตู ุจููููู **ููุชุงุญ ูุฑูุฏ**.

---

### โ ุซุงูููุง: ุงููุฑู ุจูู **Natural Keys** ู **Surrogate Keys**

#### ๐ฟ Natural Key = ููุชุงุญ ุทุจูุนู (ุจููุซู ุจูุงูุงุช ุญููููุฉ)

- ุฒู: ISBNุ ุนููุงูุ ุฑูู ุจุทุงูุฉ.
- ูุงุถุญ ูุณูู ููููู.
- ูููู ูุญุตู ููู ุชูุฑุงุฑ ูุณุชูุจูู (ุฒู ููุง ููุฒู ุทุจุนุฉ ุฌุฏูุฏุฉ ุจููุณ ุงูุงุณู ุจุณ ุจุณุนุฑ ูุฎุชูู).

โ๏ธ **ุงููุดููุฉุ**

- ุฃุญูุงููุง ูุถุทุฑ ููุณุฑ ุงููุงุนุฏุฉ ุนุดุงู ุญุฏุซ ุบูุฑ ูุชููุน ุฒู:
    - ููุณ ุงููุชุงุจ ุจุฅุตุฏุงุฑ ุฌุฏูุฏ.
    - ุจูุงูุงุช ูุด ูุงููุฉ ุฃู ุจุฏูู ูุนุฑู ุฒู ISBN.
    - ุจูุงูุงุช ูุณุชุนููุฉ ุจุชุฏุฎู ุงููุธุงู.

---

#### ๐ Surrogate Key = ูุนุฑู ุฏุงุฎูู (ุบุงูุจูุง ุฑูู ุชุณูุณูู ID)

- ุจูุชู ุชูููุฏู ุฏุงุฎู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- ูููุด ูุนูู ุญูููู ูููุณุชุฎุฏู.
- ุจูุถูู ุงููุฑูุฏุฉ ูุณูู ุงูุงุณุชุฎุฏุงู.

โ **ุงูุญู ุงููุซุงููุ**

- ุงุณุชุฎุฏุงู **Surrogate Key** ูููุชุงุญ ุฃุณุงุณู.
- ูุงุณุชุฎุฏุงู ุงูู ISBN ุฃู ุฃู ูุนุฑู ุทุจูุนู ููุฌุฑุฏ **ุนููุฏ ุนุงุฏู** ุนููู ููุฏ `UNIQUE` ุฅู ูุฒู ุงูุฃูุฑ.

---
## ๐ฌ ุฎูุงุตุฉ:

| ุงููุนูุงุฑ        | ุงูููุชุงุญ ุงูุทุจูุนู (Natural Key) | ุงูููุชุงุญ ุงูุจุฏูู (Surrogate Key) |
| -------------- | ----------------------------- | ------------------------------ |
| ุณูู ุงูููู      | โ                             | โ                              |
| ุนุฑุถุฉ ููุชูุฑุงุฑ   | โ                             | โ                              |
| ููุงุณุจ ููุนูุงูุงุช | โ (ูุฏ ูุณุจุจ ูุดุงูู ุฃุญูุงููุง)     | โ                              |
| ุดุงุฆุน ูู ุงููุงูุน | โ (ููุถู ูุธุฑููุง ููุท)           | โ (ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง ุนููููุง)    |

---
## โ ูุง ูู ุงูู **Surrogate Key**ุ

- ุนููุฏ ูุชู ุชูููุฏู ุชููุงุฆููุง ุฏุงุฎู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- ูุง ููุซู ูุนูููุฉ ุญููููุฉ ูููุณุชุฎุฏู (ุฒู ุงุณู ุฃู ููุฏ ููุชุฌ).
- ุงูุบุฑุถ ููู ูู **ุถูุงู ุงูุชูุฑุฏ (uniqueness)** ูุณูููุฉ ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู.

---

## ๐ข ุฃููุงุน Surrogate Keys:

### 1. **Numeric Sequence Key** (ุงูููุงุชูุญ ุงูุฑูููุฉ ุงูุชุณูุณููุฉ)

- ุงูุฃูุซุฑ ุดููุนูุง.
- ูุจุฏุฃ ูู 1 ููุฒูุฏ ุชููุงุฆููุง.
- ุณูู ุงูุงุณุชุฎุฏุงู ูุณุฑูุน.

|ูุงุนุฏุฉ ุงูุจูุงูุงุช|ุงูููุน ุงููุณุชุฎุฏู|
|---|---|
|MS Access|AutoNumber|
|SQL Server|`IDENTITY`|
|MySQL|`AUTO_INCREMENT`|
|Oracle|`SEQUENCE`|
|PostgreSQL|`SERIAL` ุฃู `SEQUENCE`|

> ๐ ููุชุนูู ุงุณุชุฎุฏุงูู ุนููููุง ูู Chapter 6.

---

### 2. **GUID โ Globally Unique Identifier**

- ููุชุงุญ ุทููู ููุนูุฏ (ุฒู `550e8400-e29b-41d4-a716-446655440000`)
- ูุถููู ุฅูู ูููู **ูุฑูุฏ ุญุชู ุจูู ููุงุนุฏ ุจูุงูุงุช ูุฎุชููุฉ**.
- ูููุฏ ูู:
    - ุฃูุธูุฉ ุงููุณุฎ ุงูููุฒุนุฉ (Replication).
    - ุฅุฎูุงุก ุงูู ID ุงูุญูููู ุนู ุงููุณุชุฎุฏู (ูุญูุงูุฉ ุงูุจูุงูุงุช ูู ุงูุชุฎููู).

|ูุงุนุฏุฉ ุงูุจูุงูุงุช|ุงูุฏุนู|
|---|---|
|SQL Server|ูุนู (`uniqueidentifier`)|
|Access|ูุนู (`Replication ID`)|
|Oracle|ูููู ุจุงุณุชุฎุฏุงู `SYS_OP_GUID()`|
|PostgreSQL|ุนุจุฑ ููุชุจุฉ ุฅุถุงููุฉ|

> โ๏ธ ุฃูู ููุงุกุฉ ูู ุงูุฃุฑูุงูุ ููุด ููุถู ุฅูุง ูู ูุนูุงู ูุญุชุงุฌู (ุฒู ุญุงูุงุช ุงูุฃูุงู ุฃู ุงููุงูุฑูุฒูุฉ).

---

## ๐ ููุงุฐุง ูุณุชุฎุฏู GUIDs ุฃุญูุงููุง ุจุฏู ุงูุฃุฑูุงูุ

- ูุชูููู ุฎุทุฑ **ุชุฎููู ุงููุนุฑูุงุช (IDs)** ูู ุทุฑู ุงููุณุชุฎุฏู.
    - ูุซููุง: ูู ุนูุฏู ุฑุงุจุท ุฒู `view_user.asp?userid=463`ุ ูููู ุฃู ุญุฏ ูุฌุฑุจ `464ุ 465...`
    - ุฃูุง `view_user.asp?userid=550e8400-e29b...` โ ุตุนุจ ูุชุฎูู.

---
## โ ููุงุฑุณุงุช ุดุงุฆุนุฉ:

|ุนูุตุฑ|ูุตูุญุฉ|
|---|---|
|ุงุณู ุงูุนููุฏ|ุฏุงูููุง ุณูู `UserID` ุฃู `UserGUID` ุญุณุจ ููุน ุงูู Key|
|ุงูุชูุฑุงุฑ|ูุง ุชุถูู ููุชุงุญ ุจุฏูู ุฌุฏูุฏ ูู ุนูุฏู ูุนูุงู ููุชุงุญ ูุฑูุจ ุตุงูุญ|
|Timestamp|โ ูุง ูููุถูู ุงุณุชุฎุฏุงูู ูููุชุงุญุ ูููู ูุชูุฑุฑ|

---
## ๐ฌ ุงูุฎูุงุตุฉ:

|ุงูููุน|ุงููุฒุงูุง|ุงูุนููุจ|
|---|---|---|
|Numeric Key|ุจุณูุทุ ุณุฑูุนุ ูุนุงู|ูููู ุชุฎูููู|
|GUID|ูุฑูุฏ ุนุงููููุงุ ุขูู ุถุฏ ุงูุชุฎููู|ุฃุทููุ ุฃุจุทุฃ ูู ุงูููุฑุณุฉ ูุงูุจุญุซ|

---
## ๐ก **ุดุฑุญ ูุจุณุท ููููุฑุฉ**

### ๐ฅ ูุง ุชุณุชุฎุฏู Surrogate Key ูู ุญุงูุชูู ุฃุณุงุณูุชูู:

### 1. โ **ููุง ูููู ุงูููุชุงุญ ุงูุทุจูุนู (Natural Key) ูุงูู ููุงุถุญ ููุด ููุชูุฑุฑ**

#### ูุซุงู:

#### `UserGroup` (ุฌุฏูู ุฑุจุท Many-to-Many ุจูู `User` ู `Group`)

- ุงูุฌุฏูู ุจูุณุชุฎุฏู ููุชุงุญ ูุฑูุจ (Composite Key) ููููู ูู:
    
    - `UserGUID` (FK)
    - `GroupID` (FK)
- ูุฏู ููุทูู ุฌุฏูุง ูุฃู:
    - ุงููุณุชุฎุฏู ูููุฏุฑุด ูุฏุฎู ููุณ ุงูุฌุฑูุจ ูุฑุชูู.
    - ูู ูุฌููุนุฉ ุนูุงูุงุช ุจูู ูุณุชุฎุฏู ูุฌุฑูุจ ูุฑูุฏุฉ ุจุงููุนู.

- **ุฅุถุงูุฉ Surrogate Key ููุง (ุฒู UserGroupID)** ูุชุจูู ูุถูุนุฉ:
    - ูุชุฒูุฏ **index ุฒูุงุฏุฉ**
    - ููุชุณุจุจ overhead ููุช ุงูุฅุฏุฎุงู (INSERT)


---
### 2. โ **ูู ุงูู Natural Key ููููุฑ ุนูููุง `JOIN` ูู ุงูุงุณุชุนูุงูุงุช**

#### ูุซุงู:

#### `Countries` ู `Customers`

|Intelligent Key|Surrogate Key|
|---|---|
|Customers.Country = 'Egypt'|Customers.CountryID = 4|

##### โฌ๏ธ **ุงูุงุณุชุนูุงู ุจูููู ุฃุจุณุท:**

```sql
-- Intelligent Key (no JOIN)
SELECT CustomerName, CountryName FROM Customers;

-- Surrogate Key (JOIN required)
SELECT c.CustomerName, co.CountryName
FROM Customers c
JOIN Countries co ON c.CountryID = co.CountryID;
```

- ูู Lookup tables ุจุณูุทุฉ (ุฒู ุงูุฏููุ ุฃู ุงููุญุงูุธุงุช)ุ ูููู ุงุณุชุฎุฏุงู ุงูู Natural Key ูููู ุฃููุฃ ูุฃุณูู.

---
## ๐ ุงูุฎูุงุตุฉ:

|ุงูุญุงูุฉ|ุงุณุชุฎุฏู Surrogate Keyุ|
|---|---|
|ุนูุงูุฉ many-to-many (ุฌุฏูู ุฑุจุท)|โ ูุฃ|
|Lookup values ุตุบูุฑุฉ ูุซุงุจุชุฉ|โ ูุฃ|
|ุจูุงูุงุช ูููู ุชุชูุฑุฑ ุฃู ุชุชุบูุฑ|โ ูุนู|
|ููุงุชูุญ ูุฑูุจุฉ ูุนูุฏุฉ|โ ูุนู|
|ุฃูุงู ุฃู ุชุดููุฑ ุงูุจูุงูุงุช|โ ูุนู (ุฎุงุตุฉ ูุน GUIDs)|

---
## โ **ููุฎุต ููููู Attribute / Domain Integrity**

### ๐น ุงูููุตูุฏ:
- ุถูุงู ุฅู ูู **ุนููุฏ (Attribute)** ูู ุงูุฌุฏูู ูุญุชูู ููุท ุนูู **ููู ููุทููุฉ ููุณููุญ ุจููุง** (ุงูููู ุฏู ุจูุณูููุง **"ุงูุฏูููู"** ุจุชุงุน ุงูุนููุฏ).

---
## ๐ง **ุฅุฒุงู ูุญุฏุฏ ุงูู Domainุ**
ูุด ุฏุงูููุง ูููุงูู ูู ุญุงุฌุฉ ููุชูุจุฉุ ููู ุจูุนุฑููุง ูู:

1. **ุณุคุงู ุงูุนููู / ุงููุณุชุฎุฏู ุงูููุงุฆู:**
    - "ูููุน ุชุฎุฒู ุงูุฌูุณ Unknownุ"
    - "ุงููุตู ูุญุชุงุฌ ูุงู ุญุฑูุ"
    - "ุงูุณุนุฑ ุจูุงู ุฑูู ุนุดุฑูุ"

2. **ุฎุจุฑุชู ููุตูู ูุงุนุฏุฉ ุจูุงูุงุช:**
    - ุจุนุถ ุงูููุงุนุฏ ุงูุนุงูุฉ ูุงูุฎุจุฑุฉ ุงูุณุงุจูุฉ.

---
## ๐งฑ **ูุณุงุฆู ูุฑุถ ุงูู Domain Integrity ูู ุงูู DBMS**

ุฃุบูุจ ููุงุนุฏ ุงูุจูุงูุงุช ูุด ุจุชุณูููุง explicitly "Domain"ุ ููู ุจุชููุฑ ุฃุฏูุงุช ุชุณุงุนุฏู ุชูุฑุถ ุงูููุงุนุฏ ุฏู:

|ุงูุฃุฏุงุฉ|ุฏูุฑูุง ูู ูุฑุถ ุงูู Domain|
|---|---|
|`Data Type`|ููุน ุงูุจูุงูุงุช ุงูููุงุณุจ (ุฑููุ ูุตุ ุชุงุฑูุฎุ)|
|`Length`|ุงูุทูู ุงููุณููุญ ุจู (ุฒู varchar(100))|
|`Constraints`|ุฒู CHECK ุฃู UNIQUE ุฃู PRIMARY KEY|
|`Optionality`|ูู ุงููููุฉ ูููู ุชููู NULLุ|
|`Default Value`|ูููุฉ ุงูุชุฑุงุถูุฉ ูู ุงููุณุชุฎุฏู ูุฏุฎูุด ุญุงุฌุฉ|

---

## โ๏ธ **3 ุนูุงูู ูุงุฒู ุชูุงุฒู ุจูููู ุนูุฏ ุงุฎุชูุงุฑ ุงูููุน ูุงูุทูู:**

1. **ุงูููุงุกุฉ:**
    - ุงุฎุชุงุฑ ุฃูู ููุน ูุทูู ูููู ุนุดุงู **ุชููุฑ ูุณุงุญุฉ ูุชุฒูุฏ ุงูุฃุฏุงุก**.
    
2. **ุงูุฌุงูุฒูุฉ:**
    - ุฎูู ุงูุฏุงุชุง ุชุฎุฑุฌ ูู ุงูุฏุงุชุงุจูุฒ **ุจุตูุบุฉ ููุงุณุจุฉ ููุชุทุจูู ุนูู ุทูู** (ูุนูู ูุง ุชุชุทุฑุด ุชุนูู parsing ูุชูุฑ ูู ุงูููุฏ).
    
3. **ุงููุฑููุฉ ุงููุณุชูุจููุฉ:**
    - ุชููุน ุงูุชุบููุฑุงุช ุงููุณุชูุจููุฉ ูุงุฏุฑุณ ุชุฃุซูุฑูุง. ุฃุญูุงููุง ุชุณุชุฎุฏู ููุน ุฃุทูู ุดููุฉ ุงุญุชูุงุทููุง.

---

## ๐ง **ูุซุงู ุนููู ูู ุงูุฌุฏุงูู ุงููู ุงุชููู ุนููุง:**

|ุงูุนููุฏ|ูุงุนุฏุฉ ุงูุฏูููู ุงูููููุฉ|
|---|---|
|`SecurityCode`|ูุงุฒู ูููู 4 ุญุฑูู ุจุงูุถุจุท|
|`PricePaid`|ุฑูู ุนุดุฑู ุจู 2 ุฑูู ุนุดุฑู ูุซูุงู|
|`Customer.Gender`|ูุง ุฅูุง M ุฃู F ุฃู Unknown|
|`Customer.PhoneNumber`|ูุง ูุณูุญ ุจุญุฑููุ ูุฑุจูุง ุทูู ุซุงุจุช|

---

## ๐ก ููุงุญุธุงุช ุฅุถุงููุฉ:

- ูููู ุชุนุชุจุฑ **Domain Integrity = ููุงุนุฏ ุงูููุน ูุงูุตูุบุฉ ูุงูุทูู ููู ุนููุฏ**.
- ุฃุฏูุงุช ุงูููุฐุฌุฉ ุงูุญุฏูุซุฉ ุฒู Visio ุฃู MySQL Workbench ุจุชุณูุญูู ุชุฎุชุงุฑ "Generic types" ูุจุชุญูููุง ุชููุงุฆููุง ุญุณุจ ููุน ุงููุงุนุฏุฉ ููุง ุชุนูู "Forward Engineering".

---
## โ **ููุฎุต ุฃููุงุน ุงูุจูุงูุงุช (Data Types)**

### 1. **INTEGER**

- ุฑูู ุตุญูุญ ุจุฏูู ูุงุตูุฉ ุนุดุฑูุฉ.
- ุงูุญุฌู ุงููุนุชุงุฏ: 32 ุจุช โ ุงููุฏู ูู -2,147,483,648 ุฅูู +2,147,483,647.
- ุจุนุถ ุงููุบุงุช (ุฒู VBScript) ุจุชุฏุนู ููุท 16 ุจุช โ ุฎูู ุจุงูู ูู **ูุฑู ุงูุญุฌู ุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช**.
- โ๏ธ ุงุญุฐุฑ ูู **Overflow** ูู ูุง ุฃุฎุฏุชุด ุจุงูู ูู ุงููุฑูู.

---
### 2. **CHARACTER Types**
SQL-92 ุจููุฏู 3 ุฃููุงุน:

|ุงูููุน|ุงูุดุฑุญ|
|---|---|
|`CHAR`|ุญุฑู ูุงุญุฏ.|
|`CHAR(n)`|ูุต ุจุทูู ุซุงุจุช n. ูู ุงููุต ุฃูุตุฑุ ูุชููู ุจูุณุงูุงุช.|
|`VARCHAR(n)`|ูุต ุจุทูู ูุชุบูุฑ ุจุญุฏ ุฃูุตู n. ูุฎุฒู ููุท ุงูุฃุญุฑู ุงููุนููุฉ.|

**ุงูููุงุฑูุฉ:**

- `CHAR(n)` ุฃุณุฑุน ูู ุงูุชุนุฏูู (ูุง ุจูุญุชุงุฌุด ููู ุจูุงูุงุช)ุ ูููู ููุฏุฑ ูุณุงุญุฉ ูู ุงูุจูุงูุงุช ูุตูุฑุฉ.
- `VARCHAR(n)` ุฃูุถู ููุนุธู ุงูุญุงูุงุช ุงูุนูููุฉ ุฎุตูุตูุง ูู ุงูุจูุงูุงุช ุบูุฑ ุซุงุจุชุฉ ุงูุทูู.

> ูุซุงู: ูู ุนูุฏู ุนููุฏ ููุจู ูู 1 ุฅูู 100 ุญุฑูุ `VARCHAR(100)` ุฃูุถู ุจูุชูุฑ ูู `CHAR(100)`.

---
### 3. **DECIMAL**

- ุฑูู ุนุดุฑู **ุจุฏูุฉ ุซุงุจุชุฉ**.
- ุงูุตูุบุฉ: `DECIMAL(p, s)`
    - `p`: Precision = ุฅุฌูุงูู ุนุฏุฏ ุงูุฃุฑูุงู.
    - `s`: Scale = ุนุฏุฏ ุงูุฃุฑูุงู ุจุนุฏ ุงูุนูุงูุฉ ุงูุนุดุฑูุฉ.
- ูุซุงู: `157.4568` โ precision = 7ุ scale = 4
- ููุฏ ุงูุฅูุดุงุก:
```sql
CREATE TABLE SomeTable (
  DecimalNumber DECIMAL(7, 2)
);
```

---
### 4. **FLOAT / REAL / DOUBLE / MONEY**

- ุฃุฑูุงู ุนุดุฑูุฉ ููู **ุจุฏูู ุฏูุฉ ุซุงุจุชุฉ** (Floating point).
- ูููุฏุฉ ููุง ูุด ูุงุฑู ูุนุงู ุนุฏุฏ ุงูุฃุฑูุงู ุงูุฏูููุฉ.
- ุชุฎุชูู ูู ูุงุนุฏุฉ ุจูุงูุงุช ููุชุงููุฉ:
    - ูุซุงู: `MONEY` ูู PostgreSQL = `DECIMAL(9,2)`
    - ููุณ ุงูููุน ูู SQL Server = `DECIMAL(19,4)`

> โ๏ธ ูุง ุชุณุชุฎุฏู `FLOAT` ูู ูุญุชุงุฌ ุฏูุฉ ุซุงุจุชุฉ (ุฒู ูู ุฃุณุนุงุฑ ุงูููุชุฌุงุช)ุ ุงุณุชุฎุฏู `DECIMAL`.

---

### 5. **DATETIME**

- ูุนุธู ุงูู RDBMS ุจุชุฏุนู ููุน ูุฑูุจ ูุฎุฒู **ุงูุชุงุฑูุฎ + ุงูููุช** ูุนูุง.
- SQL standard ุนูุฏู `DATE` ู `TIME` ูููุตููู.
- ุงูุฃูุณุจ ูู ุงูููุน ุงููุฑูุจ `DATETIME`ุ ุฎุตูุตูุง ูู ุงูุชุทุจููุงุช ุงูุญุฏูุซุฉ.

---

## ๐ง **ูุตุงุฆุญ ุนุงูุฉ:**

- ุงุฎุชุงุฑ ุงูููุน ุงูููุงุณุจ ุญุณุจ **ุทุจูุนุฉ ุงูุจูุงูุงุช** ู**ุฃุฏุงุก ุงูุชุทุจูู**.
- ุฎููู ุญุฐุฑ ูู ุงููุฑูู ุจูู ููุงุนุฏ ุงูุจูุงูุงุช ุงููุฎุชููุฉ (PostgreSQL โ SQL Server).
- ูู ูุชุตูู ูุธุงู ูุฏุนู ุฃูุซุฑ ูู DBุ ุงุณุชุฎุฏู ุฃุฏูุงุช ููุฐุฌุฉ ุชุณูุญ ุจู "Generic types".

---
## โ **ููุฎุต ุฃูู ุงุฎุชูุงุฑุงุช Data Types ูู ุงูููุฑุฉ**

---

### ๐ข **ุงุฎุชูุงุฑุงุช ุจุณูุทุฉ (Simple Choices)**

#### ๐งโโ๏ธ ุฃุณูุงุก ุงูุฃุดุฎุงุต (FirstName, LastName, SecurityName)

- ุงุณุชุฎุฏู `VARCHAR` ูุฃูู:
    - ุงูุทูู ุบูุฑ ุซุงุจุช.
    - ูุง ููุด ุฏุงุนู ุชุญุฌุฒ ุทูู ุฃูุจุฑ ูู ุงููุงุฒู.

#### ๐ Middle Initial, Security Code

- ุงุณุชุฎุฏู `CHAR` ูุฃูู:
    - ุงูุทูู ุซุงุจุช (ูุซูุงู 1 ุฃู 4).
    - ุบุงูุจูุง ุงูุจูุงูุงุช ูุชููู ุฏุงุฆููุง ุจููุณ ุงูุทูู.
#### ๐ ุฃุฑูุงู ุงูุชููููู

- ุงุณุชุฎุฏู `CHAR` **ูููุณ INTEGER**ุ ูุฃู:
    - ูุด ููุญุณุจ ุจูู.
    - ูููู ูุญุชูู ุฑููุฒ ุฒู: `+`, `*`, `#`.
    - ุจูุนุทููุง **ูุฑููุฉ ุฃูุจุฑ** ูู ุงูุชุนุงูู ูุน ุชูุณููุงุช ูุฎุชููุฉ.
#### ๐ง ูุตูุญุฉ ุชูุธูููุฉ:

- ุงุณุชุฎุฏู ุฃุทูุงู ููุงุณูุฉ ูู `VARCHAR`:  
    ูุซุงู: 20, 50, 100, 250... ุนูุดุงู ุชููู ุณูู ุชุชุฐูุฑูุง ููุช ุงูููุฏ.

---
### ๐ **ุงุฎุชูุงุฑุงุช ุฃูุซุฑ ุชุนููุฏูุง (More Complicated Choices)**

#### โ **CreditRisk**

- ูุฌุฑุฏ Yes/No โ ุงูุฃูุถู:
    
    - `BOOLEAN` ุฃู `BIT`
    - ุฃู ุฃุตุบุฑ ููุน `INTEGER` ูู DB ูุง ุจุชุฏุนูุด boolean.
        

#### ๐ฐ **PricePaid**
- ูุญุชุงุฌ ุฏูุฉ ุนุงููุฉ: ูุซู 4 ุฃุฑูุงู ุนุดุฑูุฉ (ูุซุงู: 3.6525).
    - ุฃูุถู ููุน: `DECIMAL(10, 4)`
    - ูููุ ูุฃู `FLOAT` ูููู ูุณุจุจ **ูุดุงูู ุชูุฑููุจ (Rounding errors)**.

#### ๐ **DatePurchased**

- ูุญุชุงุฌ **ุชุงุฑูุฎ + ููุช ุญุชู ุงูุฏูููุฉ**.
    - ุฃูุถู ููุน: `DATETIME`

#### ๐ **Age**

- ูุง ูุฎุฒูุด ุงูุณู ูุจุงุดุฑุฉ!
    - ุงูุฃูุถู ูุฎุฒู **ุชุงุฑูุฎ ุงููููุงุฏ** (DOB) ูู `DATE`
    - ููุญุณุจ ุงูุณู ููุช ุงูุญุงุฌุฉ.
    - ูููุ ูุฃู ุงูุณู ุจูุชุบูุฑ ููู ุชุงุฑูุฎ ุงููููุงุฏ ูุง.
---
## ๐ **ุฎูุงุตุฉ ุนูููุฉ**

|ุงูุนููุฏ|ุงูููุน ุงูููุชุฑุญ|ุงูุณุจุจ|
|---|---|---|
|FirstName, LastName|VARCHAR(50)|ูุฑู ูู ุงูุทููุ ููููุฑ ูู ุงูุชุฎุฒูู|
|MiddleInitial|CHAR(1)|ุฏุงูููุง ุญุฑู ูุงุญุฏ|
|PhoneNumber|CHAR(15)|ููู ุฑููุฒ ููุด ุจูุชุญุณุจ ุจูู|
|CreditRisk|BOOLEAN / BIT|ูููุชูู ููุท (ูุนู/ูุง)|
|PricePaid|DECIMAL(10,4)|ุฏูุฉ ุนุงููุฉ ูููุน ุฃุฎุทุงุก ุงูุชูุฑูุจ|
|DatePurchased|DATETIME|ูุญุชุงุฌ ููุช ุงูุดุฑุงุก ุจุงููุงูู|
|Age|DATE (DOB)|ุงูุณู ุจูุชุบูุฑุ ุงููููุงุฏ ุซุงุจุช|

---
## โ **1. Optionality โ ุงูุณูุงุญ ุจุงูู NULL**

**ูุนูู: ูู ูููู ุงูุนููุฏ ููุจู ูููุฉ ูุงุฑุบุฉ (NULL)ุ**

### ๐ข ุงุณุชุฎุฏู `NULL` ููุง:

- ุชููู ุงููููุฉ **ุงุฎุชูุงุฑูุฉ** ูุนููุง.
- ุชุญุจ ุชุนุฑู ุฅุฐุง ูุงู ุงููุณุชุฎุฏู **ูุง ุฏุฎูุด ูููุฉ ุจููุณู**.
- ุงูุนููุฏ ูู ููุน `CHAR` ููุด ุนุงูุฒ ุชุญุฌุฒ ูุณุงุญุฉ ุจุฏูู ุฏุงุนู (ุฒู MiddleInitial).

๐ธ ูุซุงู:  
ูู ุนููุฏ `MiddleInitial` ููุนู `CHAR(1)` ูุณูุญูุง ุจู NULLุ ูุด ููุถุทุฑ ูููุฃู ุจูุณุงูุงุช ูุงุถูุฉ ููุง ุงูุดุฎุต ูุนูุฏูุด ุญุฑู ูุณุท.

---

## โ๏ธ **ุชุญุฐูุฑ ูู NULL**

- ูุง ูููู ุงุณุชุฎุฏุงูู ูู ุงูููุงุฑูุงุช ุงูุชูููุฏูุฉ `=`, `<>`, `>`, ุฅูุฎ.
- ูุงุฒู ุชุณุชุฎุฏู `IS NULL` ุฃู `IS NOT NULL`.
- ุจูุคุซุฑ ุนูู ุงูุญุณุงุจุงุช ูุงูู JOINS ูู ูุด ูุงุฎุฏ ุจุงูู.

---

## โ **2. Default Values โ ุงูููู ุงูุงูุชุฑุงุถูุฉ**

**ูุนูู: ูู ุงููุณุชุฎุฏู ูุฏุฎูุด ุญุงุฌุฉุ ุฅูู ุงููููุฉ ุงููู ุชุชุฎุฒู ุชููุงุฆููุงุ**
### ๐ก ุงุณุชุฎุฏู Default ููุง:

- ุชููู ุนุงูุฒ ูููุฉ ุฏุงูููุง ููุฌูุฏุฉ ุญุชู ูู ุงููุณุชุฎุฏู ุณุงุจูุง ูุงุถูุฉ.
- ุจุณ ูุด ูุงุฑู ูุนุงู ุฅุฐุง ูุงูุช ูู ุฅุฏุฎุงูู ุฃู ุชููุงุฆููุง.
- ุงูููู ุซุงุจุชุฉ ุฃู ุชุนุชูุฏ ุนูู ุฏุงูุฉ (ุฒู ุงูุชุงุฑูุฎ ุงูุญุงูู).

๐ธ ูุซุงู:

```sql
CreditRisk BIT DEFAULT 0
```

- ุฏู ูุนูุงู ุฅู ุงูุนููู ูุด ุนููู ูุฎุงุทุฑ ุงูุชุฑุงุถููุง.

๐ธ ูุซุงู ุชุงูู ูุชุงุฑูุฎ ุงูุฅูุดุงุก:

```sql
CreateDate DATETIME DEFAULT GETDATE()
```

---
## โ๏ธ **NULL vs DEFAULTุ**

|ุงูุญุงูุฉ|ุงูุฃูุถู|
|---|---|
|ุนุงูุฒ ุชุนุฑู ุงููุณุชุฎุฏู ุฏุฎู ุงููููุฉุ|NULL|
|ูุญุชุงุฌ ุฏุงูููุง ูููุฉ ููุฌูุฏุฉุ|DEFAULT|
|ุงููููุฉ ูููู ุชููู ุตูุฑ ุญููููุ|NULL (ุนุดุงู ุชูุฑููุง ุนู 0)|
|ูููุฉ ุงูุชุงุฑูุฎ ุงูุชููุงุฆูุ|DEFAULT (ูุน ุฏุงูุฉ)|

---
## โ๏ธ **ูุตูุญุฉ ูู ุงูุชุตููู**

- **ูุง ุชุณุชุฎุฏู Default = 0** ููุง ุชููู ุงููููุฉ ูููู ุชููู ูุนูุงู 0!
    - ูู ุญุทูุช Default 0ุ ูุด ูุชุนุฑู ูู ุฏุฎููุง ููุง ุฌุงุช ุชููุงุฆููุง.

---
## โ **ุฅูู ูู Check Constraintsุ**

ูู ุดุฑูุท ุจูุถูููุง ุนูู ุงูุฃุนูุฏุฉ ุนุดุงู ูููุน ุฅุฏุฎุงู ุจูุงูุงุช ุบูุฑ ููุทููุฉ ุฃู ูุฎุงููุฉ ูููุงุนุฏ ุงูุจุฒูุณ.

---
### ๐ฏ **ุฃูุซูุฉ ุนูู ุงุณุชุฎุฏุงู Check Constraints:**

- ููุน ุงูููู ุงูุณุงูุจุฉ:
    ```sql
    CHECK (PricePaid >= 0)
    ```
    
- ุงูุณูุงุญ ุจุงูููู ุงูููุฌุจุฉ ุฃู NULL:
    ```sql
    CHECK (PricePaid >= 0 OR PricePaid IS NULL)
    ```
    

---

### โ๏ธ **ููู ุจููุชุจ OR PricePaid IS NULLุ**

ูุฃู **NULL ูุด ุจูุนุฏู** ูู ุฃู ููุงุฑูุฉ ุฑูุงุถูุฉ:

- `NULL >= 0` ุจูุทูุน ูุชูุฌุชู NULL โ ูุฏู ูุนูู **"false"** ูู ุดุฑูุท ุงูู CHECK.
- ููู ูุชุจุช ุดุฑุท ูู ุบูุฑ `IS NULL`ุ ูุฏู ุงูุช **ููุนุช ุฅุฏุฎุงู NULL** ุญุชู ูู ุงูุนููุฏ ูุงู ุจููุจููุง.

---
### ๐ง **ููู ููุชุจ ุงูุดุฑูุท ุฏูุ**

- ูููู ุชูุชุจูุง ูุฏูููุง ูู DDL ููุง ุชุนูู ุงูุฌุฏูู.
- ุฃู ุชุณุชุฎุฏู Modeling Tool ุฒู Visio ุนุดุงู ุชููุฏูุง ุฃูุชููุงุชูู ุนูุฏ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช.

---
### ๐ **ุดูู Check Constraint ูู SQL Server ูุซููุง:**

```sql
CONSTRAINT SecurityHoldingPricePaid_Chk
CHECK (PricePaid >= 0 OR PricePaid IS NULL)
```

---

### ๐ก **ูุตูุญุฉ ุนูููุฉ:**

- **ุฏุงูููุง ูููุฑ ูู ุงูู NULL** ููุง ุชูุชุจ CHECK.
- ูุงุณุชุฎุฏู ุงูู constraints ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุงุ **ูุด ุจุณ ูู ุงูุชุทุจูู**ุ ุนุดุงู ุชุถูู ุญูุงูุฉ ุงูุจูุงูุงุช ูู ุฃู ูุตุฏุฑ.

---
### โ **ุฅูู ูู Referential Integrityุ**

ูู ุดุฑุท ุจูุถูู ุฅู ุฃู ูููุฉ ูู ุงูุนููุฏ ุงููู ุจูุญูู **Foreign Key** ูุงุฒู ุชููู:

- ูุง ุฅูุง **NULL**
- ูุง ุฅูุง **ููุฌูุฏุฉ ูุนููุง** ูู **Primary Key** ูู ุงูุฌุฏูู ุงููู ุจูุดูุฑ ูู

---
### ๐งฑ ูุซุงู ุนููู (ุฌุฏุงูู `Orders` ู `Customers`):

|Orders (Child Table)|ูุฌุจ ุฃูุง ูุญุชูู `CustomerID` ุนูู ูููุฉ ุบูุฑ ููุฌูุฏุฉ ูู ุฌุฏูู `Customers`.|
|---|---|

```sql
FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
```

---
### ๐งฏ **ุงููุดุงูู ุงููู ุจูููุนูุง Referential Integrity:**

1. **Insert Anomaly (ุฎูู ุฃุซูุงุก ุงูุฅุฏุฎุงู)**
    - ูู ุญุงููุช ุชุฏุฎู order ูุนููู ูุด ููุฌูุฏ โ **ููุฑูุถ**.
        
2. **Update Anomaly (ุฎูู ูู ุงูุชุญุฏูุซ)**
    - ูู ุญุฏ ุบูุฑ ุฑูู `CustomerID` ูู ุฌุฏูู `Customers`ุ ุงูุจูุงูุงุช ุงููู ูู `Orders` ูุชุจูู ูุด ูุฑุจูุทุฉ ุจุญุฏ โ ุงููุธุงู **ูููุน ุงูุชุบููุฑ**.
        
3. **Delete Anomaly (ุฎูู ูู ุงูุญุฐู)**
    - ูู ุญุงููุช ุชุญุฐู ุนููู ุนูุฏู ุทูุจุงุช โ **ูุชูุดู ุงูุนูููุฉ** ูู ูู ุจูุงูุงุช ูุฑุชุจุทุฉ.
        

---
### ๐ป **ูุซุงู ูู SQL Server ุนูู ุฅูุดุงุก ุงูุนูุงูุฉ:**

```sql
CREATE TABLE PropertyFeature (
  feature_code CHAR(5) NOT NULL,
  property_id CHAR(8) NOT NULL,
  CONSTRAINT propertyfeature_pk PRIMARY KEY (feature_code, property_id),
  CONSTRAINT propertyfeature_fk_featurecode FOREIGN KEY (feature_code) REFERENCES Feature(feature_code),
  CONSTRAINT propertyfeature_fk_propertyid FOREIGN KEY (property_id) REFERENCES Property(property_id)
);
```

---
### โ๏ธ **ููุญูุธุฉ ูููุฉ ุนู MySQL:**

- ูุด ูู ุฃูุธูุฉ ููุงุนุฏ ุงูุจูุงูุงุช ุจุช enforce ุงูู referential integrity.
- MySQL (ุฎุงุตุฉ ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฃูุฏู ุฃู ูุน ุจุนุถ ุงูู storage engines ุฒู MyISAM) ุจุชุณูุญูู ุชูุชุจ ุงูุนูุงูุงุช ููููุง **ูุด ุจุชุทุจููุง ูุนููุง**ุ ูุงููุทูุฑ ูุงุฒู ูุชุญูู ูุณุคูููุฉ ุงูุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช ุจููุณู.
    

---
### ๐ก๏ธ ุงูุฎูุงุตุฉ:

- Referential Integrity ุจุชุญููู ูู ุฅุฏุฎุงู ุจูุงูุงุช ุบูุฑ ูุชุฑุงุจุทุฉุ ุฃู ูู ููุฏุงู ุงูุฑุจุท ุจูู ุงูุฌุฏุงูู.
- ุจุชููุน ุฃุฎุทุงุก ุดุงุฆุนุฉ ูู ุงูู `INSERT`, `UPDATE`, ู `DELETE`.
- ูุฏู ุจูุณุงุนุฏู ุชุจูู ููุงุนุฏ ุจูุงูุงุช ูุธููุฉ ูููุซููุฉ ููุณุชูุฑุฉ.

---
### โ ุฃูููุง: **ุงููุชุงุฆุฌ ุงูุนูููุฉ ูุชุทุจูู Referential Integrity**

1. **ุงูุฅุฏุฎุงู (INSERT)**  
    ูุงุฒู ุชุฏุฎู ุงูุณุฌู ูู **ุงูุฌุฏูู ุงูุฃุจ ุฃูููุง** ูุจู ูุง ุชุฏุฎู ุณุฌู ูุฑุชุจุท ูู ุงูุฌุฏูู ุงูุงุจู.
    - ูุซุงู: ุชุฏุฎู `Customer` ุงูุฃููุ ุจุนุฏูู `SecurityHolding`.

2. **ุงูุญุฐู (DELETE)**  
    ูุงุฒู ุชุญุฐู ูู ุงูุณุฌูุงุช ุงููุฑุชุจุทุฉ ุจุงูุนููู (ูู `SecurityHolding`) ูุจู ูุง ุชุญุฐูู ูู ุฌุฏูู `Customer`.

3. **ุงูุชุญุฏูุซ (UPDATE)**
    - ูุง ุชูุฏุฑ ุชุญุฏุซ ุงูู PK ูู ุงูุฌุฏูู ุงูุฃุจ **ุทุงููุง ููู ุฃุจูุงุก ูุฑุชุจุทูู ุจูู**.
    - ููุง ุชูุฏุฑ ุชุญุฏุซ ุงูุฃุจูุงุก **ุฅูุง ุจุนุฏ ุชุญุฏูุซ ุงูุฃุจ** โ ูุฏู ุจูุณุจุจ **ุญุงูุฉ ุฌููุฏ (stalemate)**.

---
### ๐๏ธ ุงูุญู: **Referential Actions**

- ูู ุฃูุงูุฑ ุจุชุญุฏุฏ **ุฅุฒุงู ูุชุตุฑู ุงูู DBMS** ููุง ูุญุตู ุชุนุฏูู ุฃู ุญุฐู ูู ุงูููุชุงุญ ุงูุฃุณุงุณู (PK) ุงููู ุนููู ุนูุงูุงุช.

---
### ๐ ุฃููุงุน Referential Actions:

|Referential Action|ููุง ุชุญุฏุซ ุงูุฃุจ|ููุง ุชุญุฐู ุงูุฃุจ|
|---|---|---|
|**RESTRICT** _(ุงูุชุฑุงุถู)_|ูููุน ุงูุชุญุฏูุซ|ูููุน ุงูุญุฐู|
|**CASCADE**|ูุนุฏู ูู ุงูุฃุจูุงุก ุชููุงุฆููุง|ูุญุฐู ูู ุงูุฃุจูุงุก ุชููุงุฆููุง|
|**SET NULL**|ูุฎูู FK ูู ุงูุฃุจูุงุก = NULL|ูุฎูู FK ูู ุงูุฃุจูุงุก = NULL|

---
### โ ููุงุญุธุงุช ูููุฉ:

- **CASCADE** ูููุฏ ุฌุฏูุง ููุง ูููู ููุทูู ุญุฐู ูู ุงูุฃุจูุงุก ููุง ุงูุฃุจ ูุชุญุฐู (ุฒู ุญุฐู ูุฌูุฏ ููู ูููุงุช).
    - ุจุฏู 3 ุฃูุงูุฑ (`check` โ `delete children` โ `delete parent`) ุจุชุนูู ูู ุญุงุฌุฉ ูู ุฃูุฑ ูุงุญุฏ.
    - ูุซุงู: `ON DELETE CASCADE`.

- **ููู** ูู ููุงูู ุชุงููุฉ **ุงุณุชุฎุฏุงู CASCADE ุฎุทุฑ**.
    - ูุซุงู: ููุธู ูุฏูุฑ ูุดุงุฑูุนุ ูู ุงุชุญุฐู ุงูููุธู ูุชุฎุณุฑ ูู ุงููุดุงุฑูุน ุชุจุนูุง ูู!
    - ูู ุงูุญุงูุฉ ุฏูุ **RESTRICT** ุฃูุถูุ ูุฏู ูุฎููู:
        - ุชุญููู ุฅุฏุงุฑุฉ ุงููุดุฑูุน ูููุธู ุชุงูู.
        - ุฃู ุชุงุฎุฏ ูุฑุงุฑ ูุงุนู ูุจู ุญุฐู ุฃู ุญุงุฌุฉ.
    
- ุจุนุถ ุฃูุธูุฉ ููุงุนุฏ ุงูุจูุงูุงุช **ูุด ุจุชุฏุนู `SET NULL`** ูุจุงุดุฑุฉ (ุฒู Oracle ุฃุญูุงููุง)ุ ููู ูููู ุชููุฐูุง ุจู **triggers**.

---
### ๐ง ุงูุฎูุงุตุฉ:

- **Referential Integrity** ุชุญูู ุชุฑุงุจุท ุงูุจูุงูุงุชุ ููู ูููู ุชุนูุฏ ุงูุนูููุงุช ุฒู ุงูุชุนุฏูู ูุงูุญุฐู.
- **Referential Actions** ุจุชุฏูู ุชุญูู ูุงูู ูู ุงูุณููู.
- ุงุฎุชุงุฑ ููุน ุงูู action ุจุนูุงูุฉ ุญุณุจ ุณูุงู ุงูุจูุงูุงุช ูุงุณุชุฎุฏุงูู ูู ุงูุชุทุจูู.

---
### โ ุฅูู ูู Denormalizationุ

- ูู ุฅูู **ุชุชุนููุฏ ุชูุฑุงุฑ ุงูุจูุงูุงุช (introduce redundancy)** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุดุงู ุชุญุณูู ุงูุฃุฏุงุก.
- ูุนูู ุชูุณุฑ ุดููุฉ ููุงุนุฏ ุงูุชุทุจูุน (Normalization) ุงููู ุงุชุนูููุงูุง ูู ุงููุตูู ุงููู ูุงุชุช.

---
### ๐ง ููู ูุนูู ูุฏูุ

- ูู ุจุนุถ ุงูุญุงูุงุชุ **ุงูุงุณุชุนูุงูุงุช (SELECT)** ุจุชุชูุฑุฑ ุจุดูู ูุซูู ุฌุฏูุงุ ูุจุชููู ุฃุบูุจ ุดุบู ุงูุชุทุจูู ูู ูุฑุงุกุฉ ุจูุงูุงุช.
- ูู ููุง ููุชุฒููู 100% ุจุงูุชุทุจูุนุ ููุชุถุทุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูุฏ ุญุณุงุจ ุงูููู (ุฒู `COUNT`, `JOIN`, `GROUP BY`) ูู ูุฑุฉ.
- ูู **ุงูุชูุฑุงุฑ ุงูููุตูุฏ** ููุจูุงูุงุช (ุฒู ุฅูู ุชุฎุฒู ุนุฏุฏ ุงููุชุจ ุนูุฏ ูู ูุงุดุฑ ุจุฏู ูุง ุชุนุฏูู ูู ูุฑุฉ) ูููู:
    - **ูููู ุงูุญูู ุนูู ุงูุณูุฑูุฑ**
    - **ูุณุฑูุน ุงุณุชุนูุงูุงุช ุงููุฑุงุกุฉ**

---
### โ๏ธ ููู ููู ุงููุดููุฉุ

- **Denormalization** ุจูุคุฏู ุฅูู:
    - ุจูุงูุงุช ููุฑุฑุฉ โ ุงุญุชูุงู **ุนุฏู ุงูุชูุงุณู (Inconsistency)**
    - ูุญุชุงุฌ **ูุนุงูุฌุฉ ุฅุถุงููุฉ** ููุช ุงูุชุญุฏูุซ ุฃู ุงูุฅุฏุฎุงู (ูุฃูู ูุงุฒู ุชุญุฏูุซ ูู ุงููุณุฎ ุงูููุฑุฑุฉ)

---
### ๐ ุฅูุชู ุฃูุฑุฑ ุฃุนูู Denormalizationุ

1. **ุจุนุฏ ูุง ุชุจูู ูุงุนุฏุฉ ุจูุงูุงุช "ูุทูุจูุนุฉ ุชูุงููุง" (Well-normalized).**
2. **ูุชุฎุชุจุฑ ุฃุฏุงุฆูุง ูู ุธุฑูู ุญููููุฉ ูุฑูุจุฉ ูู ุงูุฅูุชุงุฌ (realistic load).**
3. **ูู ุงูุฃุฏุงุก ูุด ูุฑุถูุ ุณุงุนุชูุง ุจุณ ูููุฑ ูู denormalization.**

---
### ๐จโ๐ป ุญุงูุงุช ุฎุงุตุฉ:

- ูุซููุงุ ูู ุนูุฏู ููุฒุฉ ูู ูููุนู ุฒู:
    > "ุงูุนููุงุก ุงููู ุงุดุชุฑูุง X ุงุดุชุฑูุง ุฃูุถูุง Y"
    
    ููููู ุชุญุชุงุฌ ุชุณุฌูู ูุชุญููู ุนุงุฏุงุช ุงูุดุฑุงุก.
- ูู ุญุณุจุช ูู ุญุงุฌุฉ ูู ูุญุธุชูุง โ ุจุทูุก ุฌุฏูุง.

- ุงูุฃูุถู ุฅูู:
    
    - ุชุฌูุน ุงูุจูุงูุงุช ุจุดูู ุฏูุฑู (batch job)ุ
    - ูุชุฎุฒู ุงููุชุงุฆุฌ ูุณุจููุง (denormalized summary tables)ุ
    - ูุชุณุชุฎุฏููุง ุนูุฏ ุนุฑุถ ุงูุชูุตูุงุช.

---
### ๐งพ ุงูุฎูุงุตุฉ:

|ุงููุนูุงุฑ|Normalized|Denormalized|
|---|---|---|
|ุงูุฃุฏุงุก ุนูุฏ SELECT|ุฃุจุทุฃ (ูุฃูู ูุญุณุจ ููุชูุง)|ุฃุณุฑุน (ุจูุงูุงุช ุฌุงูุฒุฉ)|
|ุงูุฃุฏุงุก ุนูุฏ INSERT/UPDATE|ุฃุณุฑุน|ุฃุจุทุฃ (ูุฃูู ุจุชุญุฏูุซ ุฃูุชุฑ ูู ููุงู)|
|ุงูุงุชุณุงู (Consistency)|ูุถููู|ูุญุชุงุฌ ุงูุชูุงู ุฅุถุงูู|
|ูุชู ููุณุชุฎุฏูุ|ุฏุงูููุง ูู ุงูุจุฏุงูุฉ|ููุท ุจุนุฏ ุงุฎุชุจุงุฑ ูุชุญููู ุงูุฃุฏุงุก|

---
### ๐ฃ๏ธ ููุญูุธุฉ ูููุฉ:

> "Denormalization is **not bad** โ itโs just a trade-off."  
> ุงููุฏู ูุด ูุณุฑ ุงูููุงุนุฏุ ููู ุงูููุงุฒูุฉ ุจูู **ุงูุฃุฏุงุก** ู **ุณูุงูุฉ ุงูุจูุงูุงุช**.

ุณุคุงู ููุชุงุฒ! ุนูุดุงู ุชุนูู **Denormalization**ุ ููู ุดููุฉ ุทุฑู ุดุงุฆุนุฉ ุจุชุฎุชูู ุญุณุจ ููุน ุงูุจูุงูุงุช ูุงููุดููุฉ ุงููู ุจุชุญุงูู ุชุญููุง. ุฎูููู ุฃุดุฑุญูู **ุงูุทุฑู ุงูุฃุณุงุณูุฉ ุงููู ูููู ุชุณุชุฎุฏููุง ูุนูู denormalization ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**:

---
## โ 1. **ุฅุถุงูุฉ ุนููุฏ ูุดุชู (Derived Column)**

ุจุฏู ูุง ุชุญุณุจ ูููุฉ ูู ูุฑุฉุ ุชุฎุฒููุง ูู ุงูุฌุฏูู.
**ูุซุงู:**
ุจุฏู ูุง ูู ูุฑุฉ ุชุนูู:

```sql
SELECT COUNT(*) FROM Book WHERE PublisherID = 1;
```

ูููู ุชุถูู ุนููุฏ ุงุณูู `BookCount` ูู ุฌุฏูู `Publisher`ุ ูุชุญุฏูุซู ุนูุฏ ุฅุถุงูุฉ ุฃู ุญุฐู ูุชุงุจ.

```sql
ALTER TABLE Publisher ADD BookCount INT DEFAULT 0;
```

ูุชุญุฏูุซู ุจุงูููุฏ (ุฃู Trigger):

```sql
UPDATE Publisher
SET BookCount = BookCount + 1
WHERE PublisherID = 1;
```

---
## โ 2. **ุงูุฏูุฌ ุจูู ุฌุฏูููู (Table Merge / Flattening)**

ูู ุนูุฏู ุฌุฏูููู ุจูููู ุนูุงูุฉ One-to-One ุฃู Many-to-Oneุ ูููู ุชุฏูุฌูู ูู ุฌุฏูู ูุงุญุฏ.

**ูุซุงู:**

ุจุฏู ูุง ูููู ุนูุฏู:

```plaintext
User        |       Address
------------|---------------------
UserID (PK) | AddressID (PK)
Name        | UserID (FK)
            | City
            | Country
```

ูููู ุชุนูู ุฌุฏูู ูุงุญุฏ:

```plaintext
User
----------------------------
UserID (PK)
Name
City
Country
```

ุฏู ุจูููู ุงูู joinsุ ููุฒูุฏ ุงูุณุฑุนุฉ ูู ุงูุงุณุชุนูุงูุงุชุ ุฎุตูุตูุง ูู ุตูุญุงุช ุงูู Profile.

---
## โ 3. **ุฌุฏุงูู ููุฌููุนุฉ (Summary Tables)**
ูู ุนูุฏู ุงุณุชุนูุงูุงุช ุชูุงุฑูุฑ ุฃู ุชุฌููุนุงุช ุจุชุชูุฑุฑ ูุชูุฑุ ุงุนูู ุฌุฏูู ุฎุงุต ูููุชุงูุฌ ุฏู.
**ูุซุงู:**

```sql
CREATE TABLE DailySalesSummary (
  SaleDate DATE PRIMARY KEY,
  TotalAmount DECIMAL(10,2),
  TotalOrders INT
);
```

ูุจุชุญุฏูุซ ุงูุฌุฏูู ุฏู ูููููุง ุจุงุณุชุฎุฏุงู Job ุฃู Scheduled Task (ุฃู Trigger ุฅุฐุง ูุงู ุงูุญุฌู ุตุบูุฑ).

---
## โ 4. **ุชุฎุฒูู ุงูุจูุงูุงุช ุงูุฌุงูุฒุฉ ููุงุณุชุนุฑุงุถ (Precomputed Values)**

ุจุฏู ูุง ุชุญุณุจ ุงูุจูุงูุงุช ูู ููุช ุงูุนุฑุถ (runtime)ุ ุงุญุณุจูุง ูุณุจููุง ูุฎุฒููุง.

**ูุซุงู:**  
ูู ุนูุฏู ูุธุงู ุชูุตูุงุช (X ุงุดุชุฑู Y)ุ ุงุญุณุจู offline ูุฎุฒูู ูู ุฌุฏูู:

```plaintext
Recommendations
----------------------------
ProductID     | RecommendedProductID
```

---
## โ๏ธ ููุงุญุธุงุช ูููุฉ:

- **ูุงุฒู ุชุฑุงูุจ ุงูุชุญุฏูุซุงุช**: ุฃู ูููุฉ ูุดุชูุฉ ูุงุฒู ุชุชุญุฏูุซ ููุช ูุง ุงูุจูุงูุงุช ุงูุฃุตููุฉ ุชุชุบูุฑ.
- **ูููุน ุชุณุชุฎุฏู Triggers** ุนูุดุงู ุชุฑุจุท ุจูู ุงูุชุบููุฑ ูุงูุชุญุฏูุซ ุงูุชููุงุฆู.
- **ูููุน ุชุณุชุฎุฏู Batch Jobs** (ูุซูุงู ูู ููู ุจุงูููู) ูุชุญุฏูุซ ุงูุฌุฏุงูู ุงููุฌููุนุฉ.
- **ุชุงุจุน ุงูุฃุฏุงุก ูุจู ูุจุนุฏ**: ุฏุงูููุง ุฌุฑูุจ ูุดูู ูุฑู ุงูุฃุฏุงุก ุนูุดุงู ุชุนุฑู ุฅุฐุง ูุงูุช ุงูุฎุทูุฉ ุฏู ูููุฏุฉ ูุนููุง.